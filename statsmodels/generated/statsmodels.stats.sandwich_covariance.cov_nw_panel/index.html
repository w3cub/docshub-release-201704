
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>stats.sandwich_covariance.cov_nw_panel() - Statsmodels - W3cubDocs</title>
  
  <meta name="description" content=" Panel HAC robust covariance matrix ">
  <meta name="keywords" content="statsmodels, stats, sandwich, covariance, cov, nw, panel, -">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/statsmodels/generated/statsmodels.stats.sandwich_covariance.cov_nw_panel/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/statsmodels.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/statsmodels/" class="_nav-link" title="" style="margin-left:0;">Statsmodels</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _sphinx">
				
<h1 id="statsmodels-stats-sandwich-covariance-cov-nw-panel">statsmodels.stats.sandwich_covariance.cov_nw_panel</h1> <dl class="function"> <dt id="statsmodels.stats.sandwich_covariance.cov_nw_panel">
<code>statsmodels.stats.sandwich_covariance.cov_nw_panel(results, nlags, groupidx, weights_func=<function weights_bartlett at>, use_correction='hac')</function></code> <a class="reference internal" href="http://statsmodels.sourceforge.net/stable/_modules/statsmodels/stats/sandwich_covariance.html#cov_nw_panel" target="_blank"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Panel HAC robust covariance matrix</p> <p>Assumes we have a panel of time series with consecutive, equal spaced time periods. Data is assumed to be in long format with time series of each individual stacked into one array. Panel can be unbalanced.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<p class="first"><strong>results</strong> : result instance</p>  <p>result of a regression, uses results.model.exog and results.resid TODO: this should use wexog instead</p>  <p><strong>nlags</strong> : int or None</p>  <p>Highest lag to include in kernel window. Currently, no default because the optimal length will depend on the number of observations per cross-sectional unit.</p>  <p><strong>groupidx</strong> : list of tuple</p>  <p>each tuple should contain the start and end index for an individual. (groupidx might change in future).</p>  <p><strong>weights_func</strong> : callable</p>  <p>weights_func is called with nlags as argument to get the kernel weights. default are Bartlett weights</p>  <p><strong>use_correction</strong> : ‘cluster’ or ‘hac’ or False</p>  <p>If False, then no small sample correction is used. If ‘cluster’ (default), then the same correction as in cov_cluster is used. If ‘hac’, then the same correction as in single time series, cov_hac is used.</p>  </td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first"><strong>cov</strong> : ndarray, (k_vars, k_vars)</p>  <p>HAC robust covariance matrix for parameter estimates</p>  </td> </tr>  </table> <h4 class="rubric">Notes</h4> <p>For nlags=0, this is just White covariance, cov_white. If kernel is uniform, <code>weights_uniform</code>, with nlags equal to the number of observations per unit in a balance panel, then cov_cluster and cov_hac_panel are identical.</p> <p>Tested against STATA <code>newey</code> command with same defaults.</p> <p>Options might change when other kernels besides Bartlett and uniform are available.</p> </dd>
</dl>
<div class="_attribution">
  <p class="_attribution-p">
    © 2009–2012 Statsmodels Developers<br>© 2006–2008 Scipy Developers<br>© 2006 Jonathan E. Taylor<br>Licensed under the 3-clause BSD License.<br>
    <a href="http://statsmodels.sourceforge.net/stable/generated/statsmodels.stats.sandwich_covariance.cov_nw_panel.html" class="_attribution-link" target="_blank">http://statsmodels.sourceforge.net/stable/generated/statsmodels.stats.sandwich_covariance.cov_nw_panel.html</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
