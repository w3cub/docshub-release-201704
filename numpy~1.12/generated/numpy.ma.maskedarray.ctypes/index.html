
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>MaskedArray.ctypes - NumPy 1.12 - W3cubDocs</title>
  
  <meta name="description" content=" An object to simplify the interaction of the array with the ctypes module. ">
  <meta name="keywords" content="numpy, ma, maskedarray, ctypes, -, numpy~1.12">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/numpy~1.12/generated/numpy.ma.maskedarray.ctypes/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/numpy~1.12.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/numpy~1.12/" class="_nav-link" title="" style="margin-left:0;">NumPy 1.12</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _sphinx">
				
<h1 id="numpy-ma-maskedarray-ctypes">numpy.ma.MaskedArray.ctypes</h1> <dl class="attribute"> <dt id="numpy.ma.MaskedArray.ctypes">
<code>MaskedArray.ctypes</code> </dt> <dd>
<p>An object to simplify the interaction of the array with the ctypes module.</p> <p>This attribute creates an object that makes it easier to use arrays when calling shared libraries with the ctypes module. The returned object has, among others, data, shape, and strides attributes (see Notes below) which themselves return ctypes objects that can be used as arguments to a shared library.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<p class="first"><strong>None</strong></p> </td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first"><strong>c</strong> : Python object</p>  <p>Possessing attributes data, shape, strides, etc.</p>  </td> </tr>  </table> <div class="admonition seealso"> <p class="first admonition-title">See also</p> <p class="last"><code>numpy.ctypeslib</code></p> </div> <h4 class="rubric">Notes</h4> <p>Below are the public attributes of this object which were documented in “Guide to NumPy” (we have omitted undocumented public attributes, as well as documented private attributes):</p> <ul class="simple"> <li>data: A pointer to the memory area of the array as a Python integer. This memory area may contain data that is not aligned, or not in correct byte-order. The memory area may not even be writeable. The array flags and data-type of this array should be respected when passing this attribute to arbitrary C-code to avoid trouble that can include Python crashing. User Beware! The value of this attribute is exactly the same as self._array_interface_[‘data’][0].</li> <li>shape (c_intp*self.ndim): A ctypes array of length self.ndim where the basetype is the C-integer corresponding to dtype(‘p’) on this platform. This base-type could be c_int, c_long, or c_longlong depending on the platform. The c_intp type is defined accordingly in numpy.ctypeslib. The ctypes array contains the shape of the underlying array.</li> <li>strides (c_intp*self.ndim): A ctypes array of length self.ndim where the basetype is the same as for the shape attribute. This ctypes array contains the strides information from the underlying array. This strides information is important for showing how many bytes must be jumped to get to the next element in the array.</li> <li>data_as(obj): Return the data pointer cast to a particular c-types object. For example, calling self._as_parameter_ is equivalent to self.data_as(ctypes.c_void_p). Perhaps you want to use the data as a pointer to a ctypes array of floating-point data: self.data_as(ctypes.POINTER(ctypes.c_double)).</li> <li>shape_as(obj): Return the shape tuple as an array of some other c-types type. For example: self.shape_as(ctypes.c_short).</li> <li>strides_as(obj): Return the strides tuple as an array of some other c-types type. For example: self.strides_as(ctypes.c_longlong).</li> </ul> <p>Be careful using the ctypes attribute - especially on temporary arrays or arrays constructed on the fly. For example, calling <code>(a+b).ctypes.data_as(ctypes.c_void_p)</code> returns a pointer to memory that is invalid because the array created as (a+b) is deallocated before the next Python statement. You can avoid this problem using either <code>c=a+b</code> or <code>ct=(a+b).ctypes</code>. In the latter case, ct will hold a reference to the array until ct is deleted or re-assigned.</p> <p>If the ctypes module is not available, then the ctypes attribute of array objects still returns something useful, but ctypes objects are not returned and errors may be raised instead. In particular, the object will still have the as parameter attribute which will return an integer equal to the data attribute.</p> <h4 class="rubric">Examples</h4> <pre data-language="python">&gt;&gt;&gt; import ctypes
&gt;&gt;&gt; x
array([[0, 1],
       [2, 3]])
&gt;&gt;&gt; x.ctypes.data
30439712
&gt;&gt;&gt; x.ctypes.data_as(ctypes.POINTER(ctypes.c_long))
&lt;ctypes.LP_c_long object at 0x01F01300&gt;
&gt;&gt;&gt; x.ctypes.data_as(ctypes.POINTER(ctypes.c_long)).contents
c_long(0)
&gt;&gt;&gt; x.ctypes.data_as(ctypes.POINTER(ctypes.c_longlong)).contents
c_longlong(4294967296L)
&gt;&gt;&gt; x.ctypes.shape
&lt;numpy.core._internal.c_long_Array_2 object at 0x01FFD580&gt;
&gt;&gt;&gt; x.ctypes.shape_as(ctypes.c_long)
&lt;numpy.core._internal.c_long_Array_2 object at 0x01FCE620&gt;
&gt;&gt;&gt; x.ctypes.strides
&lt;numpy.core._internal.c_long_Array_2 object at 0x01FCE620&gt;
&gt;&gt;&gt; x.ctypes.strides_as(ctypes.c_longlong)
&lt;numpy.core._internal.c_longlong_Array_2 object at 0x01F01300&gt;
</pre> </dd>
</dl>
<div class="_attribution">
  <p class="_attribution-p">
    © 2008–2017 NumPy Developers<br>Licensed under the NumPy License.<br>
    <a href="https://docs.scipy.org/doc/numpy-1.12.0/reference/generated/numpy.ma.MaskedArray.ctypes.html" class="_attribution-link" target="_blank">https://docs.scipy.org/doc/numpy-1.12.0/reference/generated/numpy.ma.MaskedArray.ctypes.html</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
