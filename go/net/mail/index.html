
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Net&#47;mail - Go - W3cubDocs</title>
  
  <meta name="description" content=" Package mail implements parsing of mail messages. ">
  <meta name="keywords" content="package, mail, net, -, go">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/go/net/mail/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/go.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/go/" class="_nav-link" title="" style="margin-left:0;">Go</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _go">
				
<h1>Package mail</h1>     <ul id="short-nav">
<li><code>import "net/mail"</code></li>
<li><a href="#pkg-overview" class="overviewLink">Overview</a></li>
<li><a href="#pkg-index" class="indexLink">Index</a></li>
<li><a href="#pkg-examples" class="examplesLink">Examples</a></li>
</ul>     <h2>Overview </h2> <p> Package mail implements parsing of mail messages. </p> <p> For the most part, this package follows the syntax as specified by RFC 5322 and extended by RFC 6532. Notable divergences: </p> <pre data-language="go">* Obsolete address formats are not parsed, including addresses with
  embedded route information.
* Group addresses are not parsed.
* The full range of spacing (the CFWS syntax element) is not supported,
  such as breaking addresses across lines.
* No unicode normalization is performed.
</pre>      <h2>Index </h2>  <ul id="manual-nav">
<li><a href="#pkg-variables">Variables</a></li>
<li><a href="#ParseAddressList">func ParseAddressList(list string) ([]*Address, error)</a></li>
<li><a href="#ParseDate">func ParseDate(date string) (time.Time, error)</a></li>
<li><a href="#Address">type Address</a></li>
<li> <a href="#ParseAddress">func ParseAddress(address string) (*Address, error)</a>
</li>
<li> <a href="#Address.String">func (a *Address) String() string</a>
</li>
<li><a href="#AddressParser">type AddressParser</a></li>
<li> <a href="#AddressParser.Parse">func (p *AddressParser) Parse(address string) (*Address, error)</a>
</li>
<li> <a href="#AddressParser.ParseList">func (p *AddressParser) ParseList(list string) ([]*Address, error)</a>
</li>
<li><a href="#Header">type Header</a></li>
<li> <a href="#Header.AddressList">func (h Header) AddressList(key string) ([]*Address, error)</a>
</li>
<li> <a href="#Header.Date">func (h Header) Date() (time.Time, error)</a>
</li>
<li> <a href="#Header.Get">func (h Header) Get(key string) string</a>
</li>
<li><a href="#Message">type Message</a></li>
<li> <a href="#ReadMessage">func ReadMessage(r io.Reader) (msg *Message, err error)</a>
</li>
</ul> <div id="pkg-examples"> <h4>Examples</h4> <dl> <dd><a class="exampleLink" href="#example_ParseAddress">ParseAddress</a></dd> <dd><a class="exampleLink" href="#example_ParseAddressList">ParseAddressList</a></dd> <dd><a class="exampleLink" href="#example_ReadMessage">ReadMessage</a></dd> </dl> </div> <h4>Package files</h4> <p>  <a href="https://golang.org/src/net/mail/message.go" target="_blank">message.go</a>  </p>     <h2 id="pkg-variables">Variables</h2> <pre data-language="go">var ErrHeaderNotPresent = errors.New("mail: header not in message")</pre> <h2 id="ParseAddressList">func ParseAddressList<a href="https://golang.org/src/net/mail/message.go?s=4057:4111#L143" class="source" target="_blank">Source</a>  </h2> <pre data-language="go">func ParseAddressList(list string) ([]*Address, error)</pre> <p> ParseAddressList parses the given string as a list of addresses. </p>    <h4> <span class="text">Example</span>
</h4> <pre class="play" data-language="go">package main

import (
	"fmt"
	"log"
	"net/mail"
)

func main() {
	const list = "Alice &lt;alice@example.com&gt;, Bob &lt;bob@example.com&gt;, Eve &lt;eve@example.com&gt;"
	emails, err := mail.ParseAddressList(list)
	if err != nil {
		log.Fatal(err)
	}

	for _, v := range emails {
		fmt.Println(v.Name, v.Address)
	}

}
</pre>   <h2 id="ParseDate">func ParseDate<a href="https://golang.org/src/net/mail/message.go?s=2288:2334#L86" class="source" target="_blank">Source</a>  </h2> <pre data-language="go">func ParseDate(date string) (time.Time, error)</pre> <p> ParseDate parses an RFC 5322 date string. </p> <h2 id="Address">type Address<a href="https://golang.org/src/net/mail/message.go?s=3702:3802#L132" class="source" target="_blank">Source</a>  </h2> <p> Address represents a single mail address. An address such as "Barry Gibbs &lt;bg@example.com&gt;" is represented as Address{Name: "Barry Gibbs", Address: "bg@example.com"}. </p> <pre data-language="go">type Address struct {
        Name    string // Proper name; may be empty.
        Address string // user@domain
}</pre> <h3 id="ParseAddress">func ParseAddress<a href="https://golang.org/src/net/mail/message.go?s=3877:3928#L138" class="source" target="_blank">Source</a>  </h3> <pre data-language="go">func ParseAddress(address string) (*Address, error)</pre> <p> Parses a single RFC 5322 address, e.g. "Barry Gibbs &lt;bg@example.com&gt;" </p>    <h4> <span class="text">Example</span>
</h4> <pre class="play" data-language="go">package main

import (
	"fmt"
	"log"
	"net/mail"
)

func main() {
	e, err := mail.ParseAddress("Alice &lt;alice@example.com&gt;")
	if err != nil {
		log.Fatal(err)
	}

	fmt.Println(e.Name, e.Address)

}
</pre>   <h3 id="Address.String">func (*Address) String<a href="https://golang.org/src/net/mail/message.go?s=5055:5088#L168" class="source" target="_blank">Source</a>  </h3> <pre data-language="go">func (a *Address) String() string</pre> <p> String formats the address as a valid RFC 5322 address. If the address's name contains non-ASCII characters the name will be rendered according to RFC 2047. </p> <h2 id="AddressParser">type AddressParser<a href="https://golang.org/src/net/mail/message.go?s=4218:4353#L148" class="source" target="_blank">Source</a>  </h2> <p> An AddressParser is an RFC 5322 address parser. </p> <pre data-language="go">type AddressParser struct {
        // WordDecoder optionally specifies a decoder for RFC 2047 encoded-words.
        WordDecoder *mime.WordDecoder
}</pre> <h3 id="AddressParser.Parse">func (*AddressParser) Parse<a href="https://golang.org/src/net/mail/message.go?s=4462:4525#L155" class="source" target="_blank">Source</a>  </h3> <pre data-language="go">func (p *AddressParser) Parse(address string) (*Address, error)</pre> <p> Parse parses a single RFC 5322 address of the form "Gogh Fir &lt;gf@example.com&gt;" or "foo@example.com". </p> <h3 id="AddressParser.ParseList">func (*AddressParser) ParseList<a href="https://golang.org/src/net/mail/message.go?s=4747:4813#L161" class="source" target="_blank">Source</a>  </h3> <pre data-language="go">func (p *AddressParser) ParseList(list string) ([]*Address, error)</pre> <p> ParseList parses the given string as a list of comma-separated addresses of the form "Gogh Fir &lt;gf@example.com&gt;" or "foo@example.com". </p> <h2 id="Header">type Header<a href="https://golang.org/src/net/mail/message.go?s=2594:2625#L97" class="source" target="_blank">Source</a>  </h2> <p> A Header represents the key-value pairs in a mail message header. </p> <pre data-language="go">type Header map[string][]string</pre> <h3 id="Header.AddressList">func (Header) AddressList<a href="https://golang.org/src/net/mail/message.go?s=3359:3418#L121" class="source" target="_blank">Source</a>  </h3> <pre data-language="go">func (h Header) AddressList(key string) ([]*Address, error)</pre> <p> AddressList parses the named header field as a list of addresses. </p> <h3 id="Header.Date">func (Header) Date<a href="https://golang.org/src/net/mail/message.go?s=3137:3178#L112" class="source" target="_blank">Source</a>  </h3> <pre data-language="go">func (h Header) Date() (time.Time, error)</pre> <p> Date parses the Date header field. </p> <h3 id="Header.Get">func (Header) Get<a href="https://golang.org/src/net/mail/message.go?s=2945:2983#L105" class="source" target="_blank">Source</a>  </h3> <pre data-language="go">func (h Header) Get(key string) string</pre> <p> Get gets the first value associated with the given key. It is case insensitive; CanonicalMIMEHeaderKey is used to canonicalize the provided key. If there are no values associated with the key, Get returns "". To access multiple values of a key, or to use non-canonical keys, access the map directly. </p> <h2 id="Message">type Message<a href="https://golang.org/src/net/mail/message.go?s=965:1021#L35" class="source" target="_blank">Source</a>  </h2> <p> A Message represents a parsed mail message. </p> <pre data-language="go">type Message struct {
        Header Header
        Body   io.Reader
}</pre> <h3 id="ReadMessage">func ReadMessage<a href="https://golang.org/src/net/mail/message.go?s=1158:1213#L43" class="source" target="_blank">Source</a>  </h3> <pre data-language="go">func ReadMessage(r io.Reader) (msg *Message, err error)</pre> <p> ReadMessage reads a message from r. The headers are parsed, and the body of the message will be available for reading from r. </p>    <h4> <span class="text">Example</span>
</h4> <pre class="play" data-language="go">package main

import (
	"fmt"
	"io/ioutil"
	"log"
	"net/mail"
	"strings"
)

func main() {
	msg := `Date: Mon, 23 Jun 2015 11:40:36 -0400
From: Gopher &lt;from@example.com&gt;
To: Another Gopher &lt;to@example.com&gt;
Subject: Gophers at Gophercon

Message body
`

	r := strings.NewReader(msg)
	m, err := mail.ReadMessage(r)
	if err != nil {
		log.Fatal(err)
	}

	header := m.Header
	fmt.Println("Date:", header.Get("Date"))
	fmt.Println("From:", header.Get("From"))
	fmt.Println("To:", header.Get("To"))
	fmt.Println("Subject:", header.Get("Subject"))

	body, err := ioutil.ReadAll(m.Body)
	if err != nil {
		log.Fatal(err)
	}
	fmt.Printf("%s", body)

}
</pre>
<div class="_attribution">
  <p class="_attribution-p">
    Â© Google, Inc.<br>Licensed under the Creative Commons Attribution License 3.0.<br>
    <a href="https://golang.org/pkg/net/mail/" class="_attribution-link" target="_blank">https://golang.org/pkg/net/mail/</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
