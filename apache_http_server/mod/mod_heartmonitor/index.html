
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Mod_heartmonitor - Apache HTTP Server - W3cubDocs</title>
  
  <meta name="description" content="mod_heartmonitor listens for server status messages generated by mod_heartbeat enabled origin servers and makes their status available to &hellip;">
  <meta name="keywords" content="apache, module, mod, heartmonitor, -, http, server, apache_http_server">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/apache_http_server/mod/mod_heartmonitor/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/apache_http_server.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/apache_http_server/" class="_nav-link" title="" style="margin-left:0;">Apache HTTP Server</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _apache">
				
<h1>Apache Module mod_heartmonitor</h1>  <table class="module">
<tr>
<th>Description:</th>
<td>Centralized monitor for mod_heartbeat origin servers</td>
</tr> <tr>
<th>Status:</th>
<td>Experimental</td>
</tr> <tr>
<th>ModuleIdentifier:</th>
<td>heartmonitor_module</td>
</tr> <tr>
<th>SourceFile:</th>
<td>mod_heartmonitor.c</td>
</tr> <tr>
<th>Compatibility:</th>
<td>Available in Apache 2.3 and later</td>
</tr>
</table> <h3>Summary</h3> <p> <code class="module"><a href="../mod_heartmonitor/">mod_heartmonitor</a></code> listens for server status messages generated by <code class="module"><a href="../mod_heartbeat/">mod_heartbeat</a></code> enabled origin servers and makes their status available to <code class="module"><a href="../mod_lbmethod_heartbeat/">mod_lbmethod_heartbeat</a></code>. This allows <code class="directive"><a href="../mod_proxy/#proxypass">ProxyPass</a></code> to use the "heartbeat" <em>lbmethod</em> inside of <code class="directive"><a href="../mod_proxy/#proxypass">ProxyPass</a></code>. </p> <p>This module uses the services of <code class="module"><a href="../mod_slotmem_shm/">mod_slotmem_shm</a></code> when available instead of flat-file storage. No configuration is required to use <code class="module"><a href="../mod_slotmem_shm/">mod_slotmem_shm</a></code>.</p> <div class="warning"> To use <code class="module"><a href="../mod_heartmonitor/">mod_heartmonitor</a></code>, <code class="module"><a href="../mod_status/">mod_status</a></code> and <code class="module"><a href="../mod_watchdog/">mod_watchdog</a></code> must be either a static modules or, if a dynamic module, it must be loaded before <code class="module"><a href="../mod_heartmonitor/">mod_heartmonitor</a></code>. </div>    <div class="directive-section">
<h2 id="heartbeatlisten">HeartbeatListen Directive</h2> <table class="directive"> <tr>
<th>Description:</th>
<td>multicast address to listen for incoming heartbeat requests </td>
</tr> <tr>
<th>Syntax:</th>
<td><code>HeartbeatListenaddr:port</code></td>
</tr> <tr>
<th>Default:</th>
<td><code>disabled</code></td>
</tr> <tr>
<th>Context:</th>
<td>server config</td>
</tr> <tr>
<th>Status:</th>
<td>Experimental</td>
</tr> <tr>
<th>Module:</th>
<td>mod_heartmonitor</td>
</tr> </table> <p>The <code class="directive">HeartbeatListen</code> directive specifies the multicast address on which the server will listen for status information from <code class="module"><a href="../mod_heartbeat/">mod_heartbeat</a></code>-enabled servers. This address will usually correspond to a configured <code class="directive"><a href="../mod_heartbeat/#heartbeataddress">HeartbeatAddress</a></code> on an origin server. </p> <pre class="prettyprint lang-config">HeartbeatListen 239.0.0.1:27999</pre> <p> This module is inactive until this directive is used.</p> </div>  <div class="directive-section">
<h2 id="heartbeatmaxservers">HeartbeatMaxServers Directive</h2> <table class="directive"> <tr>
<th>Description:</th>
<td>Specifies the maximum number of servers that will be sending heartbeat requests to this server</td>
</tr> <tr>
<th>Syntax:</th>
<td><pre>HeartbeatMaxServers number-of-servers</pre></td>
</tr> <tr>
<th>Default:</th>
<td><pre>HeartbeatMaxServers 10</pre></td>
</tr> <tr>
<th>Context:</th>
<td>server config</td>
</tr> <tr>
<th>Status:</th>
<td>Experimental</td>
</tr> <tr>
<th>Module:</th>
<td>mod_heartmonitor</td>
</tr> </table> <p>The <code class="directive">HeartbeatMaxServers</code> directive specifies the maximum number of servers that will be sending requests to this monitor server. It is used to control the size of the shared memory allocated to store the heartbeat info when <code class="module"><a href="../mod_slotmem_shm/">mod_slotmem_shm</a></code> is in use.</p> </div>  <div class="directive-section">
<h2 id="heartbeatstorage">HeartbeatStorage Directive</h2> <table class="directive"> <tr>
<th>Description:</th>
<td>Path to store heartbeat data</td>
</tr> <tr>
<th>Syntax:</th>
<td><pre>HeartbeatStorage file-path</pre></td>
</tr> <tr>
<th>Default:</th>
<td><pre>HeartbeatStorage logs/hb.dat</pre></td>
</tr> <tr>
<th>Context:</th>
<td>server config</td>
</tr> <tr>
<th>Status:</th>
<td>Experimental</td>
</tr> <tr>
<th>Module:</th>
<td>mod_heartmonitor</td>
</tr> </table> <p>The <code class="directive">HeartbeatStorage</code> directive specifies the path to store heartbeat data. This flat-file is used only when <code class="module"><a href="../mod_slotmem_shm/">mod_slotmem_shm</a></code> is not loaded.</p> </div>
<div class="_attribution">
  <p class="_attribution-p">
    Â© 2016 The Apache Software Foundation<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://httpd.apache.org/docs/2.4/en/mod/mod_heartmonitor.html" class="_attribution-link" target="_blank">https://httpd.apache.org/docs/2.4/en/mod/mod_heartmonitor.html</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
