
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Ssh2_publickey_add - PHP - W3cubDocs</title>
  
  <meta name="description" content=" (PECL ssh2 &#62;&#61; 0.10) ">
  <meta name="keywords" content="ssh, publickey, add, -, php">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/php/function.ssh2-publickey-add/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/php.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/php/" class="_nav-link" title="" style="margin-left:0;">PHP</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _php">
				
<div class="refnamediv"> <h1 class="refname">ssh2_publickey_add</h1> <p class="verinfo">(PECL ssh2 &gt;= 0.10)</p>
<p class="refpurpose"><span class="refname">ssh2_publickey_add</span> — <span class="dc-title"> Add an authorized publickey </span></p> </div> <div class="refsect1 description" id="refsect1-function.ssh2-publickey-add-description"> <h3 class="title">Description</h3> <pre class="methodsynopsis dc-description" data-language="php">bool ssh2_publickey_add ( resource $pkey , string $algoname , string $blob [, bool $overwrite = false [, array $attributes ]] )</pre> <blockquote class="note"><p><strong class="note">Note</strong>: <span class="simpara">The public key subsystem is used for managing public keys on a server to which the client is <em class="emphasis">already</em> authenticated. To authenticate to a remote system using public key authentication, use the <span class="function"><a href="../function.ssh2-auth-pubkey-file/" class="function">ssh2_auth_pubkey_file()</a></span> function instead.</span></p></blockquote> </div> <div class="refsect1 parameters" id="refsect1-function.ssh2-publickey-add-parameters"> <h3 class="title">Parameters</h3> 
<dl> <dt> <code class="parameter">pkey</code>
</dt> <dd> <p class="para"> Publickey Subsystem resource created by <span class="function"><a href="../function.ssh2-publickey-init/" class="function">ssh2_publickey_init()</a></span>. </p> </dd> <dt> <code class="parameter">algoname</code>
</dt> <dd> <p class="para"> Publickey algorithm (e.g.): ssh-dss, ssh-rsa </p> </dd> <dt> <code class="parameter">blob</code>
</dt> <dd> <p class="para"> Publickey blob as raw binary data </p> </dd> <dt> <code class="parameter">overwrite</code>
</dt> <dd> <p class="para"> If the specified key already exists, should it be overwritten? </p> </dd> <dt> <code class="parameter">attributes</code>
</dt> <dd> <p class="para"> Associative array of attributes to assign to this public key. Refer to ietf-secsh-publickey-subsystem for a list of supported attributes. To mark an attribute as mandatory, precede its name with an asterisk. If the server is unable to support an attribute marked mandatory, it will abort the add process. </p> </dd> </dl> </div> <div class="refsect1 returnvalues" id="refsect1-function.ssh2-publickey-add-returnvalues"> <h3 class="title">Return Values</h3> <p class="para"> Returns <strong><code>TRUE</code></strong> on success or <strong><code>FALSE</code></strong> on failure. </p> </div> <div class="refsect1 examples" id="refsect1-function.ssh2-publickey-add-examples"> <h3 class="title">Examples</h3> 
<div class="example" id="example-5163"> <p><strong>Example #1 Adding a publickey with <span class="function"><strong>ssh2_publickey_add()</strong></span></strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$ssh2 = ssh2_connect('shell.example.com', 22);
ssh2_auth_password($ssh2, 'jdoe', 'password');
$pkey = ssh2_publickey_init($ssh2);

$keyblob = base64_decode('
AAAAB3NzaC1yc2EAAAABIwAAAIEA5HVt6VqSGd5PTrLRdjNONxXH1tVFGn0
Bd26BF0aCP9qyJRlvdJ3j4WBeX4ZmrveGrjMgkseSYc4xZ26sDHwfL351xj
zaLpipu\BGRrw17mWVBhuCExo476ri5tQFzbTc54VEHYckxQ16CjSTibI5X
69GmnYC9PNqEYq/1TP+HF10=');

ssh2_publickey_add($pkey, 'ssh-rsa', $keyblob, false, array('comment'=&gt;"John's Key"));
?&gt;</pre> </div> </div> </div> <div class="refsect1 seealso" id="refsect1-function.ssh2-publickey-add-seealso"> <h3 class="title">See Also</h3> 
<ul class="simplelist"> <li class="member"><span class="function"><a href="../function.ssh2-publickey-init/" class="function" rel="rdfs-seeAlso">ssh2_publickey_init()</a> - Initialize Publickey subsystem</span></li> <li class="member"><span class="function"><a href="../function.ssh2-publickey-remove/" class="function" rel="rdfs-seeAlso">ssh2_publickey_remove()</a> - Remove an authorized publickey</span></li> <li class="member"><span class="function"><a href="../function.ssh2-publickey-list/" class="function" rel="rdfs-seeAlso">ssh2_publickey_list()</a> - List currently authorized publickeys</span></li> </ul> </div> <div class="manualnavbar" style="text-align: center;"> <div class="prev" style="text-align: left; float: left;"><a href="../function.ssh2-methods-negotiated/">← ssh2_methods_negotiated</a></div> <div class="next" style="text-align: right; float: right;"><a href="../function.ssh2-publickey-init/">ssh2_publickey_init →</a></div>   </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 1997–2017 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://secure.php.net/manual/en/function.ssh2-publickey-add.php" class="_attribution-link" target="_blank">https://secure.php.net/manual/en/function.ssh2-publickey-add.php</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
