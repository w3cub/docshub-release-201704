
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>PDO&#58;&#58;rollBack - PHP - W3cubDocs</title>
  
  <meta name="description" content=" (PHP 5 &#62;&#61; 5.1.0, PHP 7, PECL pdo &#62;&#61; 0.1.0) ">
  <meta name="keywords" content="pdo, rollback, -, php">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/php/pdo.rollback/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/php.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/php/" class="_nav-link" title="" style="margin-left:0;">PHP</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _php">
				
<div class="refnamediv"> <h1 class="refname">PDO::rollBack</h1> <p class="verinfo">(PHP 5 &gt;= 5.1.0, PHP 7, PECL pdo &gt;= 0.1.0)</p>
<p class="refpurpose"><span class="refname">PDO::rollBack</span> — <span class="dc-title"> Rolls back a transaction </span></p> </div> <div class="refsect1 description" id="refsect1-pdo.rollback-description"> <h3 class="title">Description</h3> <pre class="methodsynopsis dc-description" data-language="php">public bool PDO::rollBack ( void )</pre> <p class="para rdfs-comment"> Rolls back the current transaction, as initiated by <span class="function"><a href="../pdo.begintransaction/" class="function">PDO::beginTransaction()</a></span>. </p> <p class="para"> If the database was set to autocommit mode, this function will restore autocommit mode after it has rolled back the transaction. </p> <p class="para"> Some databases, including MySQL, automatically issue an implicit COMMIT when a database definition language (DDL) statement such as DROP TABLE or CREATE TABLE is issued within a transaction. The implicit COMMIT will prevent you from rolling back any other changes within the transaction boundary. </p> </div> <div class="refsect1 returnvalues" id="refsect1-pdo.rollback-returnvalues"> <h3 class="title">Return Values</h3> <p class="para"> Returns <strong><code>TRUE</code></strong> on success or <strong><code>FALSE</code></strong> on failure. </p> </div> <div class="refsect1 errors" id="refsect1-pdo.rollback-errors"> <h3 class="title">Errors/Exceptions</h3> <p class="para"> Throws a <a href="../class.pdoexception/" class="classname">PDOException</a> if there is no active transaction. </p> <blockquote class="note"><p><strong class="note">Note</strong>: <span class="simpara">An exception is raised even when the <strong><code>PDO::ATTR_ERRMODE</code></strong> attribute is not <strong><code>PDO::ERRMODE_EXCEPTION</code></strong>.</span></p></blockquote> </div> <div class="refsect1 examples" id="refsect1-pdo.rollback-examples"> <h3 class="title">Examples</h3> 
<div class="example" id="example-1012">
<p><strong>Example #1 Roll back a transaction</strong></p> <div class="example-contents"><p> The following example begins a transaction and issues two statements that modify the database before rolling back the changes. On MySQL, however, the DROP TABLE statement automatically commits the transaction so that none of the changes in the transaction are rolled back. </p></div> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
/* Begin a transaction, turning off autocommit */
$dbh-&gt;beginTransaction();

/* Change the database schema and data */
$sth = $dbh-&gt;exec("DROP TABLE fruit");
$sth = $dbh-&gt;exec("UPDATE dessert
    SET name = 'hamburger'");

/* Recognize mistake and roll back changes */
$dbh-&gt;rollBack();

/* Database connection is now back in autocommit mode */
?&gt;</pre> </div> </div> </div> <div class="refsect1 seealso" id="refsect1-pdo.rollback-seealso"> <h3 class="title">See Also</h3> 
<ul class="simplelist"> <li class="member"><span class="function"><a href="../pdo.begintransaction/" class="function" rel="rdfs-seeAlso">PDO::beginTransaction()</a> - Initiates a transaction</span></li> <li class="member"><span class="function"><a href="../pdo.commit/" class="function" rel="rdfs-seeAlso">PDO::commit()</a> - Commits a transaction</span></li> <li class="member"><a href="https://secure.php.net/manual/en/pdo.transactions.php" class="link" target="_blank">Transactions and auto-commit</a></li> </ul> </div> <div class="manualnavbar" style="text-align: center;"> <div class="prev" style="text-align: left; float: left;"><a href="../pdo.quote/">← PDO::quote</a></div> <div class="next" style="text-align: right; float: right;"><a href="../pdo.setattribute/">PDO::setAttribute →</a></div>   </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 1997–2017 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://secure.php.net/manual/en/pdo.rollback.php" class="_attribution-link" target="_blank">https://secure.php.net/manual/en/pdo.rollback.php</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
