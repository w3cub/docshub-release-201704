
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Ini_file - Ansible - W3cubDocs</title>
  
  <meta name="description" content="Manage (add, remove, change) individual settings in an INI-style file without having to manage the file as a whole with, say, template or assemble. &hellip;">
  <meta name="keywords" content="ini, file, -, tweak, settings, files, ansible">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/ansible/ini_file_module/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/ansible.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/ansible/" class="_nav-link" title="" style="margin-left:0;">Ansible</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _sphinx">
				
<h1 id="ini-file">ini_file - Tweak settings in INI files</h1>  <ul class="simple" id="ini-file-tweak-settings-in-ini-files"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#requirements-on-host-that-executes-module" id="id2">Requirements (on host that executes module)</a></li> <li><a class="reference internal" href="#options" id="id3">Options</a></li> <li><a class="reference internal" href="#examples" id="id4">Examples</a></li> <li><a class="reference internal" href="#notes" id="id5">Notes</a></li> <li><a class="reference internal" href="#this-is-a-core-module" id="id6">This is a Core Module</a></li> </ul>   <h2 id="synopsis">Synopsis</h2> <p>Manage (add, remove, change) individual settings in an INI-style file without having to manage the file as a whole with, say, <a class="reference internal" href="../template_module/#template"><span class="std std-ref">template</span></a> or <a class="reference internal" href="../assemble_module/#assemble"><span class="std std-ref">assemble</span></a>. Adds missing sections if they don’t exist. Before version 2.0, comments are discarded when the source file is read, and therefore will not show up in the destination file.</p>   <h2 id="requirements-on-host-that-executes-module">Requirements (on host that executes module)</h2>  <ul class="simple"> <li>ConfigParser</li> </ul>    <h2 id="options">Options</h2> <table> <tr> <th class="head">parameter</th> <th class="head">required</th> <th class="head">default</th> <th class="head">choices</th> <th class="head">comments</th> </tr> <tr> <td>backup<br>
</td> <td>no</td> <td>no</td> <td><ul>
<li>yes</li>
<li>no</li>
</ul></td> <td><div>Create a backup file including the timestamp information so you can get the original file back if you somehow clobbered it incorrectly.</div></td>
</tr> <tr> <td>create<br><div style="font-size: small;"> (added in 2.2)</div>
</td> <td>no</td> <td>no</td> <td><ul>
<li>yes</li>
<li>no</li>
</ul></td> <td><div>If specified, the file will be created if it does not already exist. By default it will fail if the file is missing.</div></td>
</tr> <tr> <td>dest<br>
</td> <td>yes</td> <td></td> <td></td> <td><div>Path to the INI-style file; this file is created if required</div></td>
</tr> <tr> <td>group<br>
</td> <td>no</td> <td></td> <td></td> <td><div>Name of the group that should own the file/directory, as would be fed to <em>chown</em>.</div></td>
</tr> <tr> <td>mode<br>
</td> <td>no</td> <td></td> <td></td> <td><div>Mode the file or directory should be. For those used to <em>/usr/bin/chmod</em> remember that modes are actually octal numbers (like 0644). Leaving off the leading zero will likely have unexpected results. As of version 1.8, the mode may be specified as a symbolic mode (for example, <code>u+rwx</code> or <code>u=rw,g=r,o=r</code>).</div></td>
</tr> <tr> <td>no_extra_spaces<br><div style="font-size: small;"> (added in 2.1)</div>
</td> <td>no</td> <td></td> <td></td> <td><div>do not insert spaces before and after '=' symbol</div></td>
</tr> <tr> <td>option<br>
</td> <td>no</td> <td></td> <td></td> <td>
<div>if set (required for changing a <em>value</em>), this is the name of the option.</div>
<div>May be omitted if adding/removing a whole <em>section</em>.</div>
</td>
</tr> <tr> <td>others<br>
</td> <td>no</td> <td></td> <td></td> <td><div>all arguments accepted by the <span class="module">file</span> module also work here</div></td>
</tr> <tr> <td>owner<br>
</td> <td>no</td> <td></td> <td></td> <td><div>Name of the user that should own the file/directory, as would be fed to <em>chown</em>.</div></td>
</tr> <tr> <td>section<br>
</td> <td>yes</td> <td></td> <td></td> <td><div>Section name in INI file. This is added if <code>state=present</code> automatically when a single value is being set.</div></td>
</tr> <tr> <td>selevel<br>
</td> <td>no</td> <td>s0</td> <td></td> <td><div>Level part of the SELinux file context. This is the MLS/MCS attribute, sometimes known as the <code>range</code>. <code>_default</code> feature works as for <em>seuser</em>.</div></td>
</tr> <tr> <td>serole<br>
</td> <td>no</td> <td></td> <td></td> <td><div>Role part of SELinux file context, <code>_default</code> feature works as for <em>seuser</em>.</div></td>
</tr> <tr> <td>setype<br>
</td> <td>no</td> <td></td> <td></td> <td><div>Type part of SELinux file context, <code>_default</code> feature works as for <em>seuser</em>.</div></td>
</tr> <tr> <td>seuser<br>
</td> <td>no</td> <td></td> <td></td> <td><div>User part of SELinux file context. Will default to system policy, if applicable. If set to <code>_default</code>, it will use the <code>user</code> portion of the policy if available.</div></td>
</tr> <tr> <td>state<br>
</td> <td>no</td> <td>present</td> <td><ul>
<li>present</li>
<li>absent</li>
</ul></td> <td><div>If set to <code>absent</code> the option or section will be removed if present instead of created.</div></td>
</tr> <tr> <td>unsafe_writes<br><div style="font-size: small;"> (added in 2.2)</div>
</td> <td>no</td> <td></td> <td></td> <td>
<div>Normally this module uses atomic operations to prevent data corruption or inconsistent reads from the target files, sometimes systems are configured or just broken in ways that prevent this. One example are docker mounted files, they cannot be updated atomically and can only be done in an unsafe manner.</div>
<div>This boolean option allows ansible to fall back to unsafe methods of updating files for those cases in which you do not have any other choice. Be aware that this is subject to race conditions and can lead to data corruption.</div>
</td>
</tr> <tr> <td>value<br>
</td> <td>no</td> <td></td> <td></td> <td><div>the string value to be associated with an <em>option</em>. May be omitted when removing an <em>option</em>.</div></td>
</tr> </table>   <h2 id="examples">Examples</h2>  <pre data-language="yaml"># Ensure "fav=lemonade is in section "[drinks]" in specified file
- ini_file: dest=/etc/conf section=drinks option=fav value=lemonade mode=0600 backup=yes

- ini_file: dest=/etc/anotherconf
            section=drinks
            option=temperature
            value=cold
            backup=yes
</pre>    <h2 id="notes">Notes</h2> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">While it is possible to add an <em>option</em> without specifying a <em>value</em>, this makes no sense.</p> </div> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">A section named <code>default</code> cannot be added by the module, but if it exists, individual options within the section can be updated. (This is a limitation of Python’s <em>ConfigParser</em>.) Either use <a class="reference internal" href="../template_module/#template"><span class="std std-ref">template</span></a> to create a base INI file with a <code>[default]</code> section, or use <a class="reference internal" href="../lineinfile_module/#lineinfile"><span class="std std-ref">lineinfile</span></a> to add the missing line.</p> </div>   <h2 id="this-is-a-core-module">This is a Core Module</h2> <p>For more information on what this means please read <a class="reference internal" href="../modules_core/"><span class="doc">Core Modules</span></a></p> <p>For help in developing on modules, should you be so inclined, please read <a class="reference internal" href="https://docs.ansible.com/ansible/community.html" target="_blank"><span class="doc">Community Information &amp; Contributing</span></a>, <span class="xref doc">developing_test_pr</span> and <a class="reference internal" href="../developing_modules/"><span class="doc">Developing Modules</span></a>.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2012–2016 Michael DeHaan<br>© 2016 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/ini_file_module.html" class="_attribution-link" target="_blank">https://docs.ansible.com/ansible/ini_file_module.html</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
