
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>5. Modules - Erlang 19 - W3cubDocs</title>
  
  <meta name="description" content=" Erlang code is divided into modules. A module consists of a sequence of attributes and function declarations, each terminated by period (.). ">
  <meta name="keywords" content="modules, -, erlang, erlang~19">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/erlang~19/doc/reference_manual/modules/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/erlang~19.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/erlang~19/" class="_nav-link" title="" style="margin-left:0;">Erlang 19</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _erlang">
				
<h1>5 Modules</h1> <h2 id="id77379">5.1 Module Syntax</h2> <p>Erlang code is divided into <strong>modules</strong>. A module consists of a sequence of attributes and function declarations, each terminated by period (.).</p> <p><strong>Example:</strong></p> <div class="example"><pre>
-module(m).          % module attribute
-export([fact/1]).   % module attribute

fact(N) when N&gt;0 -&gt;  % beginning of function declaration
    N * fact(N-1);   %  |
fact(0) -&gt;           %  |
    1.               % end of function declaration</pre></div> <p>For a description of function declarations, see <code class="bold_code"><a href="../functions/">Function Declaration Syntax</a></code>.</p> <h2 id="id77415">5.2 Module Attributes</h2> <p>A <strong>module attribute</strong> defines a certain property of a module.</p> <p>A module attribute consists of a tag and a value:</p> <div class="example"><pre>
-Tag(Value).</pre></div> <p><code class="code">Tag</code> must be an atom, while <code class="code">Value</code> must be a literal term. As a convenience in user-defined attributes, if the literal term <code class="code">Value</code> has the syntax <code class="code">Name/Arity</code> (where <code class="code">Name</code> is an atom and <code class="code">Arity</code> a positive integer), the term <code class="code">Name/Arity</code> is translated to <code class="code">{Name,Arity}</code>.</p> <p>Any module attribute can be specified. The attributes are stored in the compiled code and can be retrieved by calling <code class="code">Module:module_info(attributes)</code>, or by using the module <code class="bold_code">beam_lib(3)</code> in STDLIB.</p> <p>Several module attributes have predefined meanings. Some of them have arity two, but user-defined module attributes must have arity one.</p> <h4>Pre-Defined Module Attributes</h4> <p>Pre-defined module attributes is to be placed before any function declaration.</p> <dl> <dt><strong><code class="code">-module(Module).</code></strong></dt> <dd> <p>Module declaration, defining the name of the module. The name <code class="code">Module</code>, an atom, is to be same as the file name minus the extension <code class="code">.erl</code>. Otherwise <code class="bold_code"><a href="../code_loading/#loading">code loading</a></code> does not work as intended.</p> <p>This attribute is to be specified first and is the only mandatory attribute.</p> </dd> <dt><strong><code class="code">-export(Functions).</code></strong></dt> <dd> <p>Exported functions. Specifies which of the functions, defined within the module, that are visible from outside the module.</p> <p><code class="code">Functions</code> is a list <code class="code">[Name1/Arity1, ..., NameN/ArityN]</code>, where each <code class="code">NameI</code> is an atom and <code class="code">ArityI</code> an integer.</p> </dd> <dt><strong><code class="code">-import(Module,Functions).</code></strong></dt> <dd> <p>Imported functions. Can be called the same way as local functions, that is, without any module prefix.</p> <p><code class="code">Module</code>, an atom, specifies which module to import functions from. <code class="code">Functions</code> is a list similar as for <code class="code">export</code>.</p> </dd> <dt><strong><code class="code">-compile(Options).</code></strong></dt> <dd> <p>Compiler options. <code class="code">Options</code> is a single option or a list of options. This attribute is added to the option list when compiling the module. See the <code class="bold_code">compile(3)</code> manual page in Compiler.</p> </dd> <dt><strong><code class="code">-vsn(Vsn).</code></strong></dt> <dd> <p>Module version. <code class="code">Vsn</code> is any literal term and can be retrieved using <code class="code">beam_lib:version/1</code>, see the <code class="bold_code">beam_lib(3)</code> manual page in STDLIB.</p> <p>If this attribute is not specified, the version defaults to the MD5 checksum of the module.</p> </dd> <dt><strong><code class="code">-on_load(Function).</code></strong></dt> <dd> <p>This attribute names a function that is to be run automatically when a module is loaded. For more information, see <code class="bold_code"><a href="../code_loading/#on_load">Running a Function When a Module is Loaded</a></code>.</p> </dd> </dl> <h4>Behaviour Module Attribute</h4> <p>It is possible to specify that the module is the callback module for a <strong>behaviour</strong>:</p> <div class="example"><pre>
-behaviour(Behaviour).</pre></div> <p>The atom <code class="code">Behaviour</code> gives the name of the behaviour, which can be a user-defined behaviour or one of the following OTP standard behaviours:</p> <ul> <li><code class="code">gen_server</code></li> <li><code class="code">gen_fsm</code></li> <li><code class="code">gen_statem</code></li> <li><code class="code">gen_event</code></li> <li><code class="code">supervisor</code></li> </ul> <p>The spelling <code class="code">behavior</code> is also accepted.</p> <p>The callback functions of the module can be specified either directly by the exported function <code class="code">behaviour_info/1</code>:</p> <div class="example"><pre>
behaviour_info(callbacks) -&gt; Callbacks.</pre></div> <p>or by a <code class="code">-callback</code> attribute for each callback function:</p> <div class="example"><pre>
-callback Name(Arguments) -&gt; Result.</pre></div> <p>Here, <code class="code">Arguments</code> is a list of zero or more arguments. The <code class="code">-callback</code> attribute is to be preferred since the extra type information can be used by tools to produce documentation or find discrepancies.</p> <p>Read more about behaviours and callback modules in <code class="bold_code">OTP Design Principles</code>.</p> <h4>Record Definitions</h4> <p>The same syntax as for module attributes is used for record definitions:</p> <div class="example"><pre>
-record(Record,Fields).</pre></div> <p>Record definitions are allowed anywhere in a module, also among the function declarations. Read more in <code class="bold_code"><a href="../records/">Records</a></code>.</p> <h4>Preprocessor</h4> <p>The same syntax as for module attributes is used by the preprocessor, which supports file inclusion, macros, and conditional compilation:</p> <div class="example"><pre>
-include("SomeFile.hrl").
-define(Macro,Replacement).</pre></div> <p>Read more in <code class="bold_code"><a href="../macros/">Preprocessor</a></code>.</p> <h4>Setting File and Line</h4> <p>The same syntax as for module attributes is used for changing the pre-defined macros <code class="code">?FILE</code> and <code class="code">?LINE</code>:</p> <div class="example"><pre>
-file(File, Line).</pre></div> <p>This attribute is used by tools, such as Yecc, to inform the compiler that the source program is generated by another tool. It also indicates the correspondence of source files to lines of the original user-written file, from which the source program is produced.</p> <h4>Types and function specifications</h4> <p>A similar syntax as for module attributes is used for specifying types and function specifications: </p> <div class="example"><pre>
-type my_type() :: atom() | integer().
-spec my_function(integer()) -&gt; integer().</pre></div> <p>Read more in <code class="bold_code"><a href="../typespec/">Types and Function specifications</a></code>. </p> <p> The description is based on <code class="bold_code"><a href="http://www.erlang.org/eeps/eep-0008.html" target="_blank">EEP8 - Types and function specifications</a></code>, which is not to be further updated. </p> <h2 id="id77900">5.3 Comments</h2> <p>Comments can be placed anywhere in a module except within strings and quoted atoms. A comment begins with the character "%", continues up to, but does not include the next end-of-line, and has no effect. Notice that the terminating end-of-line has the effect of white space.</p> <h2 id="id77914">5.4 module_info/0 and module_info/1 functions</h2> <p>The compiler automatically inserts the two special, exported functions into each module:</p> <ul> <li><code class="code">Module:module_info/0</code></li> <li><code class="code">Module:module_info/1</code></li> </ul> <p>These functions can be called to retrieve information about the module.</p> <h4>module_info/0</h4> <p>The <code class="code">module_info/0</code> function in each module, returns a list of <code class="code">{Key,Value}</code> tuples with information about the module. Currently, the list contain tuples with the following <code class="code">Key</code>s: <code class="code">module</code>, <code class="code">attributes</code>, <code class="code">compile</code>, <code class="code">exports</code>, <code class="code">md5</code> and <code class="code">native</code>. The order and number of tuples may change without prior notice.</p> <h4>module_info/1</h4> <p>The call <code class="code">module_info(Key)</code>, where <code class="code">Key</code> is an atom, returns a single piece of information about the module.</p> <p>The following values are allowed for <code class="code">Key</code>:</p> <dl> <dt><strong><code class="code">module</code></strong></dt> <dd> <p>Returns an atom representing the module name.</p> </dd> <dt><strong><code class="code">attributes</code></strong></dt> <dd> <p>Returns a list of <code class="code">{AttributeName,ValueList}</code> tuples, where <code class="code">AttributeName</code> is the name of an attribute, and <code class="code">ValueList</code> is a list of values. Notice that a given attribute can occur more than once in the list with different values if the attribute occurs more than once in the module.</p> <p>The list of attributes becomes empty if the module is stripped with the <code class="bold_code">beam_lib(3)</code> module (in STDLIB).</p> </dd> <dt><strong><code class="code">compile</code></strong></dt> <dd> <p>Returns a list of tuples with information about how the module was compiled. This list is empty if the module has been stripped with the <code class="bold_code">beam_lib(3)</code> module (in STDLIB).</p> </dd> <dt><strong><code class="code">md5</code></strong></dt> <dd> <p>Returns a binary representing the MD5 checksum of the module. If the module has native code loaded, this will be the MD5 of the native code, not the BEAM bytecode.</p> </dd> <dt><strong><code class="code">exports</code></strong></dt> <dd> <p>Returns a list of <code class="code">{Name,Arity}</code> tuples with all exported functions in the module.</p> </dd> <dt><strong><code class="code">functions</code></strong></dt> <dd> <p>Returns a list of <code class="code">{Name,Arity}</code> tuples with all functions in the module.</p> </dd> <dt><strong><code class="code">native</code></strong></dt> <dd> <p>Return <code class="code">true</code> if the module has native compiled code. Return <code class="code">false</code> otherwise. In a system compiled without HiPE support, the result is always <code class="code">false</code></p> </dd> </dl>
<div class="_attribution">
  <p class="_attribution-p">
    © 1999–2016 Ericsson AB<br>Licensed under the Apache License, Version 2.0.<br>
    
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
