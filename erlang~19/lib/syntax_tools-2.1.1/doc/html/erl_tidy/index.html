
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Erl_tidy - Erlang 19 - W3cubDocs</title>
  
  <meta name="description" content=" erl_tidy ">
  <meta name="keywords" content="erl, tidy, -, erlang, erlang~19">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/erlang~19/lib/syntax_tools-2.1.1/doc/html/erl_tidy/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/erlang~19.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/erlang~19/" class="_nav-link" title="" style="margin-left:0;">Erlang 19</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _erlang">
				
<h1>erl_tidy</h1> <h2>Module</h2> <p class="REFBODY">erl_tidy</p> <h2>Module summary</h2> <p class="REFBODY">Tidies and pretty-prints Erlang source code, removing unused functions, updating obsolete constructs and function calls, etc.</p> <h2>Description</h2> 
<p>Tidies and pretty-prints Erlang source code, removing unused functions, updating obsolete constructs and function calls, etc.</p> <p>Caveats: It is possible that in some intricate uses of macros, the automatic addition or removal of parentheses around uses or arguments could cause the resulting program to be rejected by the compiler; however, we have found no such case in existing code. Programs defining strange macros can usually not be read by this program, and in those cases, no changes will be made.</p> <p>If you really, really want to, you may call it "Inga".</p> <p>Disclaimer: The author accepts no responsibility for errors introduced in code that has been processed by the program. It has been reasonably well tested, but the possibility of errors remains. Keep backups of your original code safely stored, until you feel confident that the new, modified code can be trusted. </p> <h2 id="id117510">Data types</h2>   <dl> <dt><strong id="type-filename">filename() = <code class="bold_code">file:filename()</code></strong></dt>  <dt><strong id="type-syntaxTree">syntaxTree() = <code class="bold_code"><a href="../erl_syntax/#type-syntaxTree">erl_syntax:syntaxTree()</a></code></strong></dt> <dd>  <p>An abstract syntax tree. See the <code class="bold_code"><a href="../erl_syntax/">erl_syntax</a></code> module for details. </p> </dd> </dl>  <h2>Exports</h2> <h3 id="dir-0" class="code">dir() -&gt; ok</h3> 
<p>Equivalent to <code class="bold_code"><a href="#dir-1">dir("")</a></code>.</p>  <h3 id="dir-1" class="code">dir(Dir) -&gt; ok</h3> 
<p>Equivalent to <code class="bold_code"><a href="#dir-2">dir(Dir, [])</a></code>.</p>  <h3 id="dir-2" class="code">dir(Directory::<a href="#type-filename">filename()</a>, Options::[term()]) -&gt; ok</h3> 
<p>Tidies Erlang source files in a directory and its subdirectories.</p> <p>Available options: </p>
<dl> <dt><strong>{follow_links, boolean()}</strong></dt> <dd><p>If the value is <code class="code">true</code>, symbolic directory links will be followed. The default value is <code class="code">false</code>.</p></dd> <dt><strong>{recursive, boolean()}</strong></dt> <dd><p>If the value is <code class="code">true</code>, subdirectories will be visited recursively. The default value is <code class="code">true</code>.</p></dd> <dt><strong>{regexp, string()}</strong></dt> <dd><p>The value denotes a regular expression (see module <code class="code">re</code>). Tidying will only be applied to those regular files whose names match this pattern. The default value is <code class="code">".*\\.erl$"</code>, which matches normal Erlang source file names.</p></dd> <dt><strong>{test, boolean()}</strong></dt> <dd><p>If the value is <code class="code">true</code>, no files will be modified. The default value is <code class="code">false</code>.</p></dd> <dt><strong>{verbose, boolean()}</strong></dt> <dd><p>If the value is <code class="code">true</code>, progress messages will be output while the program is running, unless the <code class="code">quiet</code> option is <code class="code">true</code>. The default value when calling <code class="bold_code"><a href="#dir-2">dir/2</a></code> is <code class="code">true</code>.</p></dd> </dl> <p>See the function <code class="bold_code"><a href="#file-2">file/2</a></code> for further options. </p> <p><strong>See also:</strong> <code class="bold_code">re(3)</code>, <code class="bold_code"><a href="#file-2">file/2</a></code>.</p>  <h3 id="file-1" class="code">file(Name) -&gt; ok</h3> 
<p>Equivalent to <code class="bold_code"><a href="#file-2">file(Name, [])</a></code>.</p>  <h3 id="file-2" class="code">file(Name::<a href="#type-filename">filename()</a>, Options::[term()]) -&gt; ok</h3> 
<p>Tidies an Erlang source code file.</p> <p>Available options are: </p>
<dl> <dt><strong>{backup_suffix, string()}</strong></dt> <dd><p>Specifies the file name suffix to be used when a backup file is created; the default value is <code class="code">".bak"</code> (cf. the <code class="code">backups</code> option).</p></dd> <dt><strong>{backups, boolean()}</strong></dt> <dd><p>If the value is <code class="code">true</code>, existing files will be renamed before new files are opened for writing. The new names are formed by appending the string given by the <code class="code">backup_suffix</code> option to the original name. The default value is <code class="code">true</code>.</p></dd> <dt><strong>{dir, filename()}</strong></dt> <dd><p>Specifies the name of the directory in which the output file is to be written. By default, the current directory is used. If the value is an empty string, the current directory is used. </p></dd> <dt><strong>{outfile, filename()}</strong></dt> <dd><p>Specifies the name of the file (without suffix) to which the resulting source code is to be written. If this option is not specified, the <code class="code">Name</code> argument is used.</p></dd> <dt><strong>{printer, Function}</strong></dt> <dd> <ul> <li><p><code class="code">Function = (syntaxTree(), [term()]) -&gt; string()</code></p></li> </ul> <p> Specifies a function for prettyprinting Erlang syntax trees. This is used for outputting the resulting module definition. The function is assumed to return formatted text for the given syntax tree, and should raise an exception if an error occurs. The default formatting function calls <code class="code">erl_prettypr:format/2</code>.</p> </dd> <dt><strong>{test, boolean()}</strong></dt> <dd><p>If the value is <code class="code">true</code>, no files will be modified; this is typically most useful if the <code class="code">verbose</code> flag is enabled, to generate reports about the program files without affecting them. The default value is <code class="code">false</code>.</p></dd> <dt><strong>{stdout, boolean()}</strong></dt> <dd><p>If the value is <code class="code">true</code>, instead of the file being written to disk it will be printed to stdout. The default value is <code class="code">false</code>.</p></dd> </dl> <p>See the function <code class="code">module/2</code> for further options. </p> <p><strong>See also:</strong> <code class="bold_code"><a href="#module-2">module/2</a></code>, <code class="bold_code"><a href="../erl_prettypr/#format-2">erl_prettypr:format/2</a></code>.</p>  <h3 id="module-1" class="code">module(Forms) -&gt; <a href="#type-syntaxTree">syntaxTree()</a>
</h3> 
<p>Equivalent to <code class="bold_code"><a href="#module-2">module(Forms, [])</a></code>.</p>  <h3 id="module-2" class="code">module(Forms, Options::[term()]) -&gt; <a href="#type-syntaxTree">syntaxTree()</a>
</h3>  <p>Types:</p>   <pre>Forms = <a href="#type-syntaxTree">syntaxTree()</a> | [<a href="#type-syntaxTree">syntaxTree()</a>]</pre>

<p>Tidies a syntax tree representation of a module definition. The given <code class="code">Forms</code> may be either a single syntax tree of type <code class="code">form_list</code>, or a list of syntax trees representing "program forms". In either case, <code class="code">Forms</code> must represent a single complete module definition. The returned syntax tree has type <code class="code">form_list</code> and represents a tidied-up version of the same source code.</p> <p>Available options are: </p>
<dl> <dt><strong>{auto_export_vars, boolean()}</strong></dt> <dd> <p>If the value is <code class="code">true</code>, all matches "<code class="code">{V1, ..., Vn} = E</code>" where <code class="code">E</code> is a case-, if- or receive-expression whose branches all return n-tuples (or explicitly throw exceptions) will be rewritten to bind and export the variables <code class="code">V1</code>, ..., <code class="code">Vn</code> directly. The default value is <code class="code">false</code>.</p> <p>For example: </p> <div class="example"><pre>
{X, Y} = case ... of
             ... -&gt; {17, foo()};
             ... -&gt; {42, bar()}
         end
        </pre></div> <p> will be rewritten to: </p> <div class="example"><pre>
case ... of
    ... -&gt; X = 17, Y = foo(), {X, Y};
    ... -&gt; X = 42, Y = bar(), {X, Y}
end
        </pre></div> </dd> <dt><strong>{auto_list_comp, boolean()}</strong></dt> <dd><p>If the value is <code class="code">true</code>, calls to <code class="code">lists:map/2</code> and <code class="code">lists:filter/2</code> will be rewritten using list comprehensions. The default value is <code class="code">true</code>.</p></dd> <dt><strong>{file, string()}</strong></dt> <dd><p>Specifies the name of the file from which the source code was taken. This is only used for generation of error reports. The default value is the empty string.</p></dd> <dt><strong>{idem, boolean()}</strong></dt> <dd><p>If the value is <code class="code">true</code>, all options that affect how the code is modified are set to "no changes". For example, to only update guard tests, and nothing else, use the options <code class="code">[new_guard_tests, idem]</code>. (Recall that options closer to the beginning of the list have higher precedence.)</p></dd> <dt><strong>{keep_unused, boolean()}</strong></dt> <dd><p>If the value is <code class="code">true</code>, unused functions will not be removed from the code. The default value is <code class="code">false</code>.</p></dd> <dt><strong>{new_guard_tests, boolean()}</strong></dt> <dd><p>If the value is <code class="code">true</code>, guard tests will be updated to use the new names, e.g. "<code class="code">is_integer(X)</code>" instead of "<code class="code">integer(X)</code>". The default value is <code class="code">true</code>. See also <code class="code">old_guard_tests</code>.</p></dd> <dt><strong>{no_imports, boolean()}</strong></dt> <dd><p>If the value is <code class="code">true</code>, all import statements will be removed and calls to imported functions will be expanded to explicit remote calls. The default value is <code class="code">false</code>.</p></dd> <dt><strong>{old_guard_tests, boolean()}</strong></dt> <dd><p>If the value is <code class="code">true</code>, guard tests will be changed to use the old names instead of the new ones, e.g. "<code class="code">integer(X)</code>" instead of "<code class="code">is_integer(X)</code>". The default value is <code class="code">false</code>. This option overrides the <code class="code">new_guard_tests</code> option.</p></dd> <dt><strong>{quiet, boolean()}</strong></dt> <dd><p>If the value is <code class="code">true</code>, all information messages and warning messages will be suppressed. The default value is <code class="code">false</code>.</p></dd> <dt><strong>{rename, [{{atom(), atom(), integer()}, {atom(), atom()}}]}</strong></dt> <dd> <p>The value is a list of pairs, associating tuples <code class="code">{Module, Name, Arity}</code> with tuples <code class="code">{NewModule, NewName}</code>, specifying renamings of calls to remote functions. By default, the value is the empty list.</p> <p>The renaming affects only remote calls (also when disguised by import declarations); local calls within a module are not affected, and no function definitions are renamed. Since the arity cannot change, the new name is represented by <code class="code">{NewModule, NewName}</code> only. Only calls matching the specified arity will match; multiple entries are necessary for renaming calls to functions that have the same module and function name, but different arities.</p> <p>This option can also be used to override the default renaming of calls which use obsolete function names.</p> </dd> <dt><strong>{verbose, boolean()}</strong></dt> <dd><p>If the value is <code class="code">true</code>, progress messages will be output while the program is running, unless the <code class="code">quiet</code> option is <code class="code">true</code>. The default value is <code class="code">false</code>.</p></dd> </dl>  Richard Carlsson carlsson.richard@gmail.com<div class="_attribution">
  <p class="_attribution-p">
    © 1999–2016 Ericsson AB<br>Licensed under the Apache License, Version 2.0.<br>
    
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
