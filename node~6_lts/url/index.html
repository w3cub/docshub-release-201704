
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Url - Node.js 6 LTS - W3cubDocs</title>
  
  <meta name="description" content=" The url module provides utilities for URL resolution and parsing. It can be accessed using&#58; ">
  <meta name="keywords" content="url, -, node, js, lts, node~6_lts">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/node~6_lts/url/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/node~6_lts.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/node~6_lts/" class="_nav-link" title="" style="margin-left:0;">Node.js 6 LTS</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _node">
				
<h1 id="url_url">URL</h1> <div class="api_stability api_stability_2">Stability: 2 - Stable</div>
<p>The <code>url</code> module provides utilities for URL resolution and parsing. It can be accessed using:</p> <pre data-language="js">const url = require('url');
</pre> <h2 id="url_url_strings_and_url_objects">URL Strings and URL Objects</h2> <p>A URL string is a structured string containing multiple meaningful components. When parsed, a URL object is returned containing properties for each of these components.</p> <p>The following details each of the components of a parsed URL. The example <code>'http://user:pass@host.com:8080/p/a/t/h?query=string#hash'</code> is used to illustrate each.</p> <pre data-language="txt">┌─────────────────────────────────────────────────────────────────────────────┐
│                                    href                                     │
├──────────┬┬───────────┬─────────────────┬───────────────────────────┬───────┤
│ protocol ││   auth    │      host       │           path            │ hash  │
│          ││           ├──────────┬──────┼──────────┬────────────────┤       │
│          ││           │ hostname │ port │ pathname │     search     │       │
│          ││           │          │      │          ├─┬──────────────┤       │
│          ││           │          │      │          │ │    query     │       │
"  http:   // user:pass @ host.com : 8080   /p/a/t/h  ?  query=string   #hash "
│          ││           │          │      │          │ │              │       │
└──────────┴┴───────────┴──────────┴──────┴──────────┴─┴──────────────┴───────┘
(all spaces in the "" line should be ignored -- they are purely for formatting)
</pre> <h3 id="url_urlobject_href">urlObject.href</h3> <p>The <code>href</code> property is the full URL string that was parsed with both the <code>protocol</code> and <code>host</code> components converted to lower-case.</p> <p>For example: <code>'http://user:pass@host.com:8080/p/a/t/h?query=string#hash'</code></p> <h3 id="url_urlobject_protocol">urlObject.protocol</h3> <p>The <code>protocol</code> property identifies the URL's lower-cased protocol scheme.</p> <p>For example: <code>'http:'</code></p> <h3 id="url_urlobject_slashes">urlObject.slashes</h3> <p>The <code>slashes</code> property is a <code>boolean</code> with a value of <code>true</code> if two ASCII forward-slash characters (<code>/</code>) are required following the colon in the <code>protocol</code>.</p> <h3 id="url_urlobject_host">urlObject.host</h3> <p>The <code>host</code> property is the full lower-cased host portion of the URL, including the <code>port</code> if specified.</p> <p>For example: <code>'host.com:8080'</code></p> <h3 id="url_urlobject_auth">urlObject.auth</h3> <p>The <code>auth</code> property is the username and password portion of the URL, also referred to as "userinfo". This string subset follows the <code>protocol</code> and double slashes (if present) and precedes the <code>host</code> component, delimited by an ASCII "at sign" (<code>@</code>). The format of the string is <code>{username}[:{password}]</code>, with the <code>[:{password}]</code> portion being optional.</p> <p>For example: <code>'user:pass'</code></p> <h3 id="url_urlobject_hostname">urlObject.hostname</h3> <p>The <code>hostname</code> property is the lower-cased host name portion of the <code>host</code> component <em>without</em> the <code>port</code> included.</p> <p>For example: <code>'host.com'</code></p> <h3 id="url_urlobject_port">urlObject.port</h3> <p>The <code>port</code> property is the numeric port portion of the <code>host</code> component.</p> <p>For example: <code>'8080'</code></p> <h3 id="url_urlobject_pathname">urlObject.pathname</h3> <p>The <code>pathname</code> property consists of the entire path section of the URL. This is everything following the <code>host</code> (including the <code>port</code>) and before the start of the <code>query</code> or <code>hash</code> components, delimited by either the ASCII question mark (<code>?</code>) or hash (<code>#</code>) characters.</p> <p>For example <code>'/p/a/t/h'</code></p> <p>No decoding of the path string is performed.</p> <h3 id="url_urlobject_search">urlObject.search</h3> <p>The <code>search</code> property consists of the entire "query string" portion of the URL, including the leading ASCII question mark (<code>?</code>) character.</p> <p>For example: <code>'?query=string'</code></p> <p>No decoding of the query string is performed.</p> <h3 id="url_urlobject_path">urlObject.path</h3> <p>The <code>path</code> property is a concatenation of the <code>pathname</code> and <code>search</code> components.</p> <p>For example: <code>'/p/a/t/h?query=string'</code></p> <p>No decoding of the <code>path</code> is performed.</p> <h3 id="url_urlobject_query">urlObject.query</h3> <p>The <code>query</code> property is either the query string without the leading ASCII question mark (<code>?</code>), or an object returned by the <a href="../querystring/"><code>querystring</code></a> module's <code>parse()</code> method. Whether the <code>query</code> property is a string or object is determined by the <code>parseQueryString</code> argument passed to <code>url.parse()</code>.</p> <p>For example: <code>'query=string'</code> or <code>{'query': 'string'}</code></p> <p>If returned as a string, no decoding of the query string is performed. If returned as an object, both keys and values are decoded.</p> <h3 id="url_urlobject_hash">urlObject.hash</h3> <p>The <code>hash</code> property consists of the "fragment" portion of the URL including the leading ASCII hash (<code>#</code>) character.</p> <p>For example: <code>'#hash'</code></p> <h2 id="url_url_format_urlobject">url.format(urlObject)</h2> <div class="api_metadata"> <span>Added in: v0.1.25</span> </div>
<ul> <li>
<code>urlObject</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type" target="_blank">&lt;Object&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type" target="_blank">&lt;String&gt;</a> A URL object (as returned by <code>url.parse()</code> or constructed otherwise). If a string, it is converted to an object by passing it to <code>url.parse()</code>.</li> </ul> <p>The <code>url.format()</code> method returns a formatted URL string derived from <code>urlObject</code>.</p> <p>If <code>urlObject</code> is not an object or a string, <code>url.parse()</code> will throw a <a href="../errors/#errors_class_typeerror"><code>TypeError</code></a>.</p> <p>The formatting process operates as follows:</p> <ul> <li>A new empty string <code>result</code> is created.</li> <li>If <code>urlObject.protocol</code> is a string, it is appended as-is to <code>result</code>.</li> <li>Otherwise, if <code>urlObject.protocol</code> is not <code>undefined</code> and is not a string, an <a href="../errors/#errors_class_error"><code>Error</code></a> is thrown.</li> <li>For all string values of <code>urlObject.protocol</code> that <em>do not end</em> with an ASCII colon (<code>:</code>) character, the literal string <code>:</code> will be appended to <code>result</code>.</li> <li>If either of the following conditions is true, then the literal string <code>//</code> will be appended to <code>result</code>:<ul> <li>
<code>urlObject.slashes</code> property is true;</li> <li>
<code>urlObject.protocol</code> begins with <code>http</code>, <code>https</code>, <code>ftp</code>, <code>gopher</code>, or <code>file</code>;</li> </ul> </li> <li>If the value of the <code>urlObject.auth</code> property is truthy, and either <code>urlObject.host</code> or <code>urlObject.hostname</code> are not <code>undefined</code>, the value of <code>urlObject.auth</code> will be coerced into a string and appended to <code>result</code> followed by the literal string <code>@</code>.</li> <li>If the <code>urlObject.host</code> property is <code>undefined</code> then:<ul> <li>If the <code>urlObject.hostname</code> is a string, it is appended to <code>result</code>.</li> <li>Otherwise, if <code>urlObject.hostname</code> is not <code>undefined</code> and is not a string, an <a href="../errors/#errors_class_error"><code>Error</code></a> is thrown.</li> <li>If the <code>urlObject.port</code> property value is truthy, and <code>urlObject.hostname</code> is not <code>undefined</code>:<ul> <li>The literal string <code>:</code> is appended to <code>result</code>, and</li> <li>The value of <code>urlObject.port</code> is coerced to a string and appended to <code>result</code>.</li> </ul> </li> </ul> </li> <li>Otherwise, if the <code>urlObject.host</code> property value is truthy, the value of <code>urlObject.host</code> is coerced to a string and appended to <code>result</code>.</li> <li>If the <code>urlObject.pathname</code> property is a string that is not an empty string:<ul> <li>If the <code>urlObject.pathname</code> <em>does not start</em> with an ASCII forward slash (<code>/</code>), then the literal string '/' is appended to <code>result</code>.</li> <li>The value of <code>urlObject.pathname</code> is appended to <code>result</code>.</li> </ul> </li> <li>Otherwise, if <code>urlObject.pathname</code> is not <code>undefined</code> and is not a string, an <a href="../errors/#errors_class_error"><code>Error</code></a> is thrown.</li> <li>If the <code>urlObject.search</code> property is <code>undefined</code> and if the <code>urlObject.query</code> property is an <code>Object</code>, the literal string <code>?</code> is appended to <code>result</code> followed by the output of calling the <a href="../querystring/"><code>querystring</code></a> module's <code>stringify()</code> method passing the value of <code>urlObject.query</code>.</li> <li>Otherwise, if <code>urlObject.search</code> is a string:<ul> <li>If the value of <code>urlObject.search</code> <em>does not start</em> with the ASCII question mark (<code>?</code>) character, the literal string <code>?</code> is appended to <code>result</code>.</li> <li>The value of <code>urlObject.search</code> is appended to <code>result</code>.</li> </ul> </li> <li>Otherwise, if <code>urlObject.search</code> is not <code>undefined</code> and is not a string, an <a href="../errors/#errors_class_error"><code>Error</code></a> is thrown.</li> <li>If the <code>urlObject.hash</code> property is a string:<ul> <li>If the value of <code>urlObject.hash</code> <em>does not start</em> with the ASCII hash (<code>#</code>) character, the literal string <code>#</code> is appended to <code>result</code>.</li> <li>The value of <code>urlObject.hash</code> is appended to <code>result</code>.</li> </ul> </li> <li>Otherwise, if the <code>urlObject.hash</code> property is not <code>undefined</code> and is not a string, an <a href="../errors/#errors_class_error"><code>Error</code></a> is thrown.</li> <li>
<code>result</code> is returned.</li> </ul> <h2 id="url_url_parse_urlstring_parsequerystring_slashesdenotehost">url.parse(urlString[, parseQueryString[, slashesDenoteHost]])</h2> <div class="api_metadata"> <span>Added in: v0.1.25</span> </div>
<ul> <li>
<code>urlString</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type" target="_blank">&lt;String&gt;</a> The URL string to parse.</li> <li>
<code>parseQueryString</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type" target="_blank">&lt;Boolean&gt;</a> If <code>true</code>, the <code>query</code> property will always be set to an object returned by the <a href="../querystring/"><code>querystring</code></a> module's <code>parse()</code> method. If <code>false</code>, the <code>query</code> property on the returned URL object will be an unparsed, undecoded string. Defaults to <code>false</code>.</li> <li>
<code>slashesDenoteHost</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type" target="_blank">&lt;Boolean&gt;</a> If <code>true</code>, the first token after the literal string <code>//</code> and preceding the next <code>/</code> will be interpreted as the <code>host</code>. For instance, given <code>//foo/bar</code>, the result would be <code>{host: 'foo', pathname: '/bar'}</code> rather than <code>{pathname: '//foo/bar'}</code>. Defaults to <code>false</code>.</li> </ul> <p>The <code>url.parse()</code> method takes a URL string, parses it, and returns a URL object.</p> <h2 id="url_url_resolve_from_to">url.resolve(from, to)</h2> <div class="api_metadata"> <span>Added in: v0.1.25</span> </div>
<ul> <li>
<code>from</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type" target="_blank">&lt;String&gt;</a> The Base URL being resolved against.</li> <li>
<code>to</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type" target="_blank">&lt;String&gt;</a> The HREF URL being resolved.</li> </ul> <p>The <code>url.resolve()</code> method resolves a target URL relative to a base URL in a manner similar to that of a Web browser resolving an anchor tag HREF.</p> <p>For example:</p> <pre data-language="js">url.resolve('/one/two/three', 'four')         // '/one/two/four'
url.resolve('http://example.com/', '/one')    // 'http://example.com/one'
url.resolve('http://example.com/one', '/two') // 'http://example.com/two'
</pre> <h2 id="url_escaped_characters">Escaped Characters</h2> <p>URLs are only permitted to contain a certain range of characters. Spaces (<code>' '</code>) and the following characters will be automatically escaped in the properties of URL objects:</p> <pre data-language="txt">&lt; &gt; " ` \r \n \t { } | \ ^ '
</pre> <p>For example, the ASCII space character (<code>' '</code>) is encoded as <code>%20</code>. The ASCII forward slash (<code>/</code>) character is encoded as <code>%3C</code>.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © Joyent, Inc. and other Node contributors<br>Licensed under the MIT License.<br>Node.js is a trademark of Joyent, Inc. and is used with its permission.<br>We are not endorsed by or affiliated with Joyent.<br>
    <a href="https://nodejs.org/dist/latest-v6.x/docs/api/url.html" class="_attribution-link" target="_blank">https://nodejs.org/dist/latest-v6.x/docs/api/url.html</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
