
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>ArrayContext (Class) - CakePHP 3.1 - W3cubDocs</title>
  
  <meta name="description" content=" Provides a basic array based context provider for FormHelper. ">
  <meta name="keywords" content="class, arraycontext, -, cakephp, cakephp~3.1">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/cakephp~3.1/class-cake.view.form.arraycontext/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/cakephp~3.1.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/cakephp~3.1/" class="_nav-link" title="" style="margin-left:0;">CakePHP 3.1</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _cakephp">
				
<h1>Class ArrayContext</h1>  <p>Provides a basic array based context provider for FormHelper.</p> <p>This adapter is useful in testing or when you have forms backed by simple array data structures.</p> <p>Important keys:</p> <ul> <li>
<code>defaults</code> The default values for fields. These values will be used when there is no request data set. Data should be nested following the dot separated paths you access your fields with.</li> <li>
<code>required</code> A nested array of fields, relationships and boolean flags to indicate a field is required.</li> <li>
<code>schema</code> An array of data that emulate the column structures that Cake\Database\Schema\Table uses. This array allows you to control the inferred type for fields and allows auto generation of attributes like maxlength, step and other HTML attributes. If you want primary key/id detection to work. Make sure you have provided a <code>_constraints</code> array that contains <code>primary</code>. See below for an example.</li> <li>
<code>errors</code> An array of validation errors. Errors should be nested following the dot separated paths you access your fields with. <h2>Example</h2> <pre>
<span class="php-var">$data</span> = [
  <span class="php-quote">'schema'</span> =&gt; [
    <span class="php-quote">'id'</span> =&gt; [<span class="php-quote">'type'</span> =&gt; <span class="php-quote">'integer'</span>],
    <span class="php-quote">'title'</span> =&gt; [<span class="php-quote">'type'</span> =&gt; <span class="php-quote">'string'</span>, <span class="php-quote">'length'</span> =&gt; <span class="php-num">255</span>],
    <span class="php-quote">'_constraints'</span> =&gt; [
      <span class="php-quote">'primary'</span> =&gt; [<span class="php-quote">'type'</span> =&gt; <span class="php-quote">'primary'</span>, <span class="php-quote">'columns'</span> =&gt; [<span class="php-quote">'id'</span>]]
    ]
  ],
  <span class="php-quote">'defaults'</span> =&gt; [
    <span class="php-quote">'id'</span> =&gt; <span class="php-num">1</span>,
    <span class="php-quote">'title'</span> =&gt; <span class="php-quote">'First post!'</span>,
  ]
];
</pre> </li> </ul>  <dl class="tree"> <dd style="padding-left:0px"> <b><span>Cake\View\Form\ArrayContext</span></b> implements <a href="../class-cake.view.form.contextinterface/"><span>Cake\View\Form\ContextInterface</span></a> </dd> </dl> <div class="info"> <b>Namespace:</b> <a href="../namespace-cake/">Cake</a>\<a href="../namespace-cake.view/">View</a>\<a href="../namespace-cake.view.form/">Form</a><br> <b>Located at</b> <a href="http://api.cakephp.org/3.1/source-class-Cake.View.Form.ArrayContext.html#20-253" title="Go to source code" target="_blank">View/Form/ArrayContext.php</a><br> </div>  <h2>Method Detail</h2> <div class="method-detail">   <h3 class="method-name" id="___construct"> <span class="name">__construct</span><a href="http://api.cakephp.org/3.1/source-class-Cake.View.Form.ArrayContext.html#77-93" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">__construct( Cake\Network\Request $request , array $context )</pre>  <p>Constructor.</p> <h4>Parameters</h4>  <dl> <dt> <code><a href="../class-cake.network.request/">Cake\Network\Request</a></code> <code>$request</code> </dt> <dd>The request object.</dd> <dt> array <code>$context</code> </dt> <dd>Context info.</dd> </dl>   </div> <div class="method-detail">   <h3 class="method-name" id="_attributes"> <span class="name">attributes</span><a href="http://api.cakephp.org/3.1/source-class-Cake.View.Form.ArrayContext.html#209-223" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">attributes( string $field )</pre>  <p>Get an associative array of other attributes for a field name.</p> <h4>Parameters</h4>  <dl> <dt> string <code>$field</code> </dt> <dd>A dot separated path to get additional data on.</dd> </dl>  <h4>Returns</h4>  <code>array</code><br>An array of data describing the additional attributes on a field.<br>  <h4>Implementation of</h4> <code><a href="../class-cake.view.form.contextinterface/#_attributes">Cake\View\Form\ContextInterface::attributes()</a></code>  </div> <div class="method-detail">   <h3 class="method-name" id="_error"> <span class="name">error</span><a href="http://api.cakephp.org/3.1/source-class-Cake.View.Form.ArrayContext.html#239-252" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">error( string $field )</pre>  <p>Get the errors for a given field</p> <h4>Parameters</h4>  <dl> <dt> string <code>$field</code> </dt> <dd>A dot separated path to check errors on.</dd> </dl>  <h4>Returns</h4>  <code>array</code><br>An array of errors, an empty array will be returned when the context has no errors.<br>  <h4>Implementation of</h4> <code><a href="../class-cake.view.form.contextinterface/#_error">Cake\View\Form\ContextInterface::error()</a></code>  </div> <div class="method-detail">   <h3 class="method-name" id="_fieldNames"> <span class="name">fieldNames</span><a href="http://api.cakephp.org/3.1/source-class-Cake.View.Form.ArrayContext.html#183-191" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">fieldNames( )</pre>  <p>Get the fieldnames of the top level object in this context.</p> <h4>Returns</h4>  <code>array</code><br>A list of the field names in the context.<br>  <h4>Implementation of</h4> <code><a href="../class-cake.view.form.contextinterface/#_fieldNames">Cake\View\Form\ContextInterface::fieldNames()</a></code>  </div> <div class="method-detail">   <h3 class="method-name" id="_hasError"> <span class="name">hasError</span><a href="http://api.cakephp.org/3.1/source-class-Cake.View.Form.ArrayContext.html#225-237" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">hasError( string $field )</pre>  <p>Check whether or not a field has an error attached to it</p> <h4>Parameters</h4>  <dl> <dt> string <code>$field</code> </dt> <dd>A dot separated path to check errors on.</dd> </dl>  <h4>Returns</h4>  <code>boolean</code><br>Returns true if the errors for the field are not empty.<br>  <h4>Implementation of</h4> <code><a href="../class-cake.view.form.contextinterface/#_hasError">Cake\View\Form\ContextInterface::hasError()</a></code>  </div> <div class="method-detail">   <h3 class="method-name" id="_isCreate"> <span class="name">isCreate</span><a href="http://api.cakephp.org/3.1/source-class-Cake.View.Form.ArrayContext.html#124-142" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">isCreate( )</pre>  <p>Returns whether or not this form is for a create operation.</p> <p>For this method to return true, both the primary key constraint must be defined in the 'schema' data, and the 'defaults' data must contain a value for all fields in the key.</p> <h4>Returns</h4>  <code>boolean</code><br>bool<br>  <h4>Implementation of</h4> <code><a href="../class-cake.view.form.contextinterface/#_isCreate">Cake\View\Form\ContextInterface::isCreate()</a></code>  </div> <div class="method-detail">   <h3 class="method-name" id="_isPrimaryKey"> <span class="name">isPrimaryKey</span><a href="http://api.cakephp.org/3.1/source-class-Cake.View.Form.ArrayContext.html#115-122" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">isPrimaryKey( string $field )</pre>  <p>Returns true if the passed field name is part of the primary key for this context</p> <h4>Parameters</h4>  <dl> <dt> string <code>$field</code> </dt> <dd>A dot separated path to the field a value is needed for.</dd> </dl>  <h4>Returns</h4>  <code>boolean</code><br>bool<br>  <h4>Implementation of</h4> <code><a href="../class-cake.view.form.contextinterface/#_isPrimaryKey">Cake\View\Form\ContextInterface::isPrimaryKey()</a></code>  </div> <div class="method-detail">   <h3 class="method-name" id="_isRequired"> <span class="name">isRequired</span><a href="http://api.cakephp.org/3.1/source-class-Cake.View.Form.ArrayContext.html#166-181" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">isRequired( string $field )</pre>  <p>Check if a given field is 'required'.</p> <p>In this context class, this is simply defined by the 'required' array.</p> <h4>Parameters</h4>  <dl> <dt> string <code>$field</code> </dt> <dd>A dot separated path to check required-ness for.</dd> </dl>  <h4>Returns</h4>  <code>boolean</code><br>bool<br>  <h4>Implementation of</h4> <code><a href="../class-cake.view.form.contextinterface/#_isRequired">Cake\View\Form\ContextInterface::isRequired()</a></code>  </div> <div class="method-detail">   <h3 class="method-name" id="_primaryKey"> <span class="name">primaryKey</span><a href="http://api.cakephp.org/3.1/source-class-Cake.View.Form.ArrayContext.html#95-113" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">primaryKey( )</pre>  <p>Get the fields used in the context as a primary key.</p> <h4>Returns</h4>  <code>array</code><br>array<br>  <h4>Implementation of</h4> <code><a href="../class-cake.view.form.contextinterface/#_primaryKey">Cake\View\Form\ContextInterface::primaryKey()</a></code>  </div> <div class="method-detail">   <h3 class="method-name" id="_type"> <span class="name">type</span><a href="http://api.cakephp.org/3.1/source-class-Cake.View.Form.ArrayContext.html#193-207" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">type( string $field )</pre>  <p>Get the abstract field type for a given field name.</p> <h4>Parameters</h4>  <dl> <dt> string <code>$field</code> </dt> <dd>A dot separated path to get a schema type for.</dd> </dl>  <h4>Returns</h4>  <code>null|string</code><br>An abstract data type or null.<br>  <h4>See</h4>  <code><a href="../class-cake.database.type/">Cake\Database\Type</a></code><br>  <h4>Implementation of</h4> <code><a href="../class-cake.view.form.contextinterface/#_type">Cake\View\Form\ContextInterface::type()</a></code>  </div> <div class="method-detail">   <h3 class="method-name" id="_val"> <span class="name">val</span><a href="http://api.cakephp.org/3.1/source-class-Cake.View.Form.ArrayContext.html#144-164" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">val( string $field )</pre>  <p>Get the current value for a given field.</p> <p>This method will coalesce the current request data and the 'defaults' array.</p> <h4>Parameters</h4>  <dl> <dt> string <code>$field</code> </dt> <dd>A dot separated path to the field a value is needed for.</dd> </dl>  <h4>Returns</h4>  <code>mixed</code><br>mixed<br>  <h4>Implementation of</h4> <code><a href="../class-cake.view.form.contextinterface/#_val">Cake\View\Form\ContextInterface::val()</a></code>  </div>   <h2>Properties summary</h2> <table class="summary properties" id="properties"> <div class="property-detail"> <h3 class="property-name" id="$_context"> <span class="name">$_context</span><a href="http://api.cakephp.org/3.1/source-class-Cake.View.Form.ArrayContext.html#70-75" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">protected</span> array </p>  <p>Context data for this object.</p>  </div> <div class="property-detail"> <h3 class="property-name" id="$_request"> <span class="name">$_request</span><a href="http://api.cakephp.org/3.1/source-class-Cake.View.Form.ArrayContext.html#63-68" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">protected</span> <code><a href="../class-cake.network.request/">Cake\Network\Request</a></code> </p>  <p>The request object.</p>  </div> </table>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–2016 The Cake Software Foundation, Inc.<br>Licensed under the MIT License.<br>CakePHP is a registered trademark of Cake Software Foundation, Inc.<br>We are not endorsed by or affiliated with CakePHP.<br>
    <a href="http://api.cakephp.org/3.1/class-Cake.View.Form.ArrayContext.html" class="_attribution-link" target="_blank">http://api.cakephp.org/3.1/class-Cake.View.Form.ArrayContext.html</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
