
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>WebView - React Native - W3cubDocs</title>
  
  <meta name="description" content=" WebView renders web content in a native view. ">
  <meta name="keywords" content="webview, -, react, native, react_native">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/react_native/webview/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/react_native.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/react_native/" class="_nav-link" title="" style="margin-left:0;">React Native</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _react">
				
<h1 id="webview">
WebView </h1>
<p><code>WebView</code> renders web content in a native view.</p>
<pre class="prism language-javascript" data-language="javascript">import React, { Component } from 'react';
import { WebView } from 'react-native';

class MyWeb extends Component {
  render() {
    return (
      &lt;WebView
        source={{uri: 'https://github.com/facebook/react-native'}}
        style={{marginTop: 20}}
      /&gt;
    );
  }
}</pre>
<p>You can use this component to navigate back and forth in the web view's history and configure various properties for the web content.</p>
<h2 id="props">
Props </h2>
<h3 class="propTitle" id="view">
<a href="../view/#props">View props...</a> </h3>
<h3 class="propTitle" id="automaticallyadjustcontentinsets">
automaticallyAdjustContentInsets?: <code class="propType"><code>bool</code></code> </h3>
<div><p>Controls whether to adjust the content inset for web views that are placed behind a navigation bar, tab bar, or toolbar. The default value is <code>true</code>.</p></div>
<h3 class="propTitle" id="contentinset">
contentInset?: <code class="propType"><code>{top: number, left: number, bottom: number, right: number}</code></code> </h3>
<div><p>The amount by which the web view content is inset from the edges of the scroll view. Defaults to {top: 0, left: 0, bottom: 0, right: 0}.</p></div>
<h3 class="propTitle" id="html">
html?: <code class="propType"><code>string</code></code> </h3>
<div class="deprecated">
<div class="deprecatedTitle">
<img class="deprecatedIcon" src="https://facebook.github.io/react-native/img/Warning.png">Deprecated</div>
<div class="deprecatedMessage"><div><p>Use the <code>source</code> prop instead.</p></div></div>
</div>
<h3 class="propTitle" id="injectedjavascript">
injectedJavaScript?: <code class="propType"><code>string</code></code> </h3>
<div><p>Set this to provide JavaScript that will be injected into the web page when the view loads.</p></div>
<h3 class="propTitle" id="mediaplaybackrequiresuseraction">
mediaPlaybackRequiresUserAction?: <code class="propType"><code>bool</code></code> </h3>
<div><p>Boolean that determines whether HTML5 audio and video requires the user to tap them before they start playing. The default value is <code>true</code>.</p></div>
<h3 class="propTitle" id="onerror">
onError?: <code class="propType"><code>function</code></code> </h3>
<div><p>Function that is invoked when the <code>WebView</code> load fails.</p></div>
<h3 class="propTitle" id="onload">
onLoad?: <code class="propType"><code>function</code></code> </h3>
<div><p>Function that is invoked when the <code>WebView</code> has finished loading.</p></div>
<h3 class="propTitle" id="onloadend">
onLoadEnd?: <code class="propType"><code>function</code></code> </h3>
<div><p>Function that is invoked when the <code>WebView</code> load succeeds or fails.</p></div>
<h3 class="propTitle" id="onloadstart">
onLoadStart?: <code class="propType"><code>function</code></code> </h3>
<div><p>Function that is invoked when the <code>WebView</code> starts loading.</p></div>
<h3 class="propTitle" id="onmessage">
onMessage?: <code class="propType"><code>function</code></code> </h3>
<div>
<p>A function that is invoked when the webview calls <code>window.postMessage</code>. Setting this property will inject a <code>postMessage</code> global into your webview, but will still call pre-existing values of <code>postMessage</code>.</p>
<p><code>window.postMessage</code> accepts one argument, <code>data</code>, which will be available on the event object, <code>event.nativeEvent.data</code>. <code>data</code> must be a string.</p>
</div>
<h3 class="propTitle" id="onnavigationstatechange">
onNavigationStateChange?: <code class="propType"><code>function</code></code> </h3>
<div><p>Function that is invoked when the <code>WebView</code> loading starts or ends.</p></div>
<h3 class="propTitle" id="rendererror">
renderError?: <code class="propType"><code>function</code></code> </h3>
<div><p>Function that returns a view to show if there's an error.</p></div>
<h3 class="propTitle" id="renderloading">
renderLoading?: <code class="propType"><code>function</code></code> </h3>
<div><p>Function that returns a loading indicator.</p></div>
<h3 class="propTitle" id="scalespagetofit">
scalesPageToFit?: <code class="propType"><code>bool</code></code> </h3>
<div><p>Boolean that controls whether the web content is scaled to fit the view and enables the user to change the scale. The default value is <code>true</code>.</p></div>
<h3 class="propTitle" id="source">
source?: <code class="propType"><code>[object Object], [object Object], [object Object]</code></code> </h3>
<div><p>Loads static html or a uri (with optional headers) in the WebView.</p></div>
<h3 class="propTitle" id="startinloadingstate">
startInLoadingState?: <code class="propType"><code>bool</code></code> </h3>
<div><p>Boolean value that forces the <code>WebView</code> to show the loading view on the first load.</p></div>
<h3 class="propTitle" id="style">
style?: <code class="propType"><code>[object Object]</code></code> </h3>
<div><p>The style to apply to the <code>WebView</code>.</p></div>
<h3 class="propTitle" id="url">
url?: <code class="propType"><code>string</code></code> </h3>
<div class="deprecated">
<div class="deprecatedTitle">
<img class="deprecatedIcon" src="https://facebook.github.io/react-native/img/Warning.png">Deprecated</div>
<div class="deprecatedMessage"><div><p>Use the <code>source</code> prop instead.</p></div></div>
</div>
<h3 class="propTitle" id="domstorageenabled">
<span class="platform">android</span>domStorageEnabled?: <code class="propType"><code>bool</code></code> </h3>
<div><p>Boolean value to control whether DOM Storage is enabled. Used only in Android.</p></div>
<h3 class="propTitle" id="javascriptenabled">
<span class="platform">android</span>javaScriptEnabled?: <code class="propType"><code>bool</code></code> </h3>
<div><p>Boolean value to enable JavaScript in the <code>WebView</code>. Used on Android only as JavaScript is enabled by default on iOS. The default value is <code>true</code>.</p></div>
<h3 class="propTitle" id="useragent">
<span class="platform">android</span>userAgent?: <code class="propType"><code>string</code></code> </h3>
<div><p>Sets the user-agent for the <code>WebView</code>.</p></div>
<h3 class="propTitle" id="allowsinlinemediaplayback">
<span class="platform">ios</span>allowsInlineMediaPlayback?: <code class="propType"><code>bool</code></code> </h3>
<div>
<p>Boolean that determines whether HTML5 videos play inline or use the native full-screen controller. The default value is <code>false</code>.</p>
<p><strong>NOTE</strong> : In order for video to play inline, not only does this property need to be set to <code>true</code>, but the video element in the HTML document must also include the <code>webkit-playsinline</code> attribute.</p>
</div>
<h3 class="propTitle" id="bounces">
<span class="platform">ios</span>bounces?: <code class="propType"><code>bool</code></code> </h3>
<div><p>Boolean value that determines whether the web view bounces when it reaches the edge of the content. The default value is <code>true</code>.</p></div>
<h3 class="propTitle" id="datadetectortypes">
<span class="platform">ios</span>dataDetectorTypes?: <code class="propType"><code>[object Object], [object Object]</code></code> </h3>
<div>
<p>Determines the types of data converted to clickable URLs in the web view’s content. By default only phone numbers are detected.</p>
<p>You can provide one type or an array of many types.</p>
<p>Possible values for <code>dataDetectorTypes</code> are:</p>
<ul>
<li><code>'phoneNumber'</code></li>
<li><code>'link'</code></li>
<li><code>'address'</code></li>
<li><code>'calendarEvent'</code></li>
<li><code>'none'</code></li>
<li><code>'all'</code></li>
</ul>
</div>
<h3 class="propTitle" id="decelerationrate">
<span class="platform">ios</span>decelerationRate?: <code class="propType"><code>ScrollView.propTypes.decelerationRate</code></code> </h3>
<div>
<p>A floating-point number that determines how quickly the scroll view decelerates after the user lifts their finger. You may also use the string shortcuts <code>"normal"</code> and <code>"fast"</code> which match the underlying iOS settings for <code>UIScrollViewDecelerationRateNormal</code> and <code>UIScrollViewDecelerationRateFast</code> respectively:</p>
<ul>
<li>normal: 0.998</li>
<li>fast: 0.99 (the default for iOS web view)</li>
</ul>
</div>
<h3 class="propTitle" id="onshouldstartloadwithrequest">
<span class="platform">ios</span>onShouldStartLoadWithRequest?: <code class="propType"><code>function</code></code> </h3>
<div><p>Function that allows custom handling of any web view requests. Return <code>true</code> from the function to continue loading the request and <code>false</code> to stop loading.</p></div>
<h3 class="propTitle" id="scrollenabled">
<span class="platform">ios</span>scrollEnabled?: <code class="propType"><code>bool</code></code> </h3>
<div><p>Boolean value that determines whether scrolling is enabled in the <code>WebView</code>. The default value is <code>true</code>.</p></div>
<h3 id="examples">
Examples </h3>
<div class="example-container"><pre class="prism language-javascript" data-language="javascript">'use strict';

var React = require('react');
var ReactNative = require('react-native');
var {
  StyleSheet,
  Text,
  TextInput,
  TouchableWithoutFeedback,
  TouchableOpacity,
  View,
  WebView
} = ReactNative;

var HEADER = '#3b5998';
var BGWASH = 'rgba(255,255,255,0.8)';
var DISABLED_WASH = 'rgba(255,255,255,0.25)';

var TEXT_INPUT_REF = 'urlInput';
var WEBVIEW_REF = 'webview';
var DEFAULT_URL = 'https://m.facebook.com';

class WebViewExample extends React.Component {
  state = {
    url: DEFAULT_URL,
    status: 'No Page Loaded',
    backButtonEnabled: false,
    forwardButtonEnabled: false,
    loading: true,
    scalesPageToFit: true,
  };

  inputText = '';

  handleTextInputChange = (event) =&gt; {
    var url = event.nativeEvent.text;
    if (!/^[a-zA-Z-_]+:/.test(url)) {
      url = 'http://' + url;
    }
    this.inputText = url;
  };

  render() {
    this.inputText = this.state.url;

    return (
      &lt;View style={[styles.container]}&gt;
        &lt;View style={[styles.addressBarRow]}&gt;
          &lt;TouchableOpacity
            onPress={this.goBack}
            style={this.state.backButtonEnabled ? styles.navButton : styles.disabledButton}&gt;
            &lt;Text&gt;
               {'&lt;'}
            &lt;/Text&gt;
          &lt;/TouchableOpacity&gt;
          &lt;TouchableOpacity
            onPress={this.goForward}
            style={this.state.forwardButtonEnabled ? styles.navButton : styles.disabledButton}&gt;
            &lt;Text&gt;
              {'&gt;'}
            &lt;/Text&gt;
          &lt;/TouchableOpacity&gt;
          &lt;TextInput
            ref={TEXT_INPUT_REF}
            autoCapitalize="none"
            defaultValue={this.state.url}
            onSubmitEditing={this.onSubmitEditing}
            onChange={this.handleTextInputChange}
            clearButtonMode="while-editing"
            style={styles.addressBarTextInput}
          /&gt;
          &lt;TouchableOpacity onPress={this.pressGoButton}&gt;
            &lt;View style={styles.goButton}&gt;
              &lt;Text&gt;
                 Go!
              &lt;/Text&gt;
            &lt;/View&gt;
          &lt;/TouchableOpacity&gt;
        &lt;/View&gt;
        &lt;WebView
          ref={WEBVIEW_REF}
          automaticallyAdjustContentInsets={false}
          style={styles.webView}
          source={{uri: this.state.url}}
          javaScriptEnabled={true}
          domStorageEnabled={true}
          decelerationRate="normal"
          onNavigationStateChange={this.onNavigationStateChange}
          onShouldStartLoadWithRequest={this.onShouldStartLoadWithRequest}
          startInLoadingState={true}
          scalesPageToFit={this.state.scalesPageToFit}
        /&gt;
        &lt;View style={styles.statusBar}&gt;
          &lt;Text style={styles.statusBarText}&gt;{this.state.status}&lt;/Text&gt;
        &lt;/View&gt;
      &lt;/View&gt;
    );
  }

  goBack = () =&gt; {
    this.refs[WEBVIEW_REF].goBack();
  };

  goForward = () =&gt; {
    this.refs[WEBVIEW_REF].goForward();
  };

  reload = () =&gt; {
    this.refs[WEBVIEW_REF].reload();
  };

  onShouldStartLoadWithRequest = (event) =&gt; {
    // Implement any custom loading logic here, don't forget to return!
    return true;
  };

  onNavigationStateChange = (navState) =&gt; {
    this.setState({
      backButtonEnabled: navState.canGoBack,
      forwardButtonEnabled: navState.canGoForward,
      url: navState.url,
      status: navState.title,
      loading: navState.loading,
      scalesPageToFit: true
    });
  };

  onSubmitEditing = (event) =&gt; {
    this.pressGoButton();
  };

  pressGoButton = () =&gt; {
    var url = this.inputText.toLowerCase();
    if (url === this.state.url) {
      this.reload();
    } else {
      this.setState({
        url: url,
      });
    }
    // dismiss keyboard
    this.refs[TEXT_INPUT_REF].blur();
  };
}

class Button extends React.Component {
  _handlePress = () =&gt; {
    if (this.props.enabled !== false &amp;&amp; this.props.onPress) {
      this.props.onPress();
    }
  };

  render() {
    return (
      &lt;TouchableWithoutFeedback onPress={this._handlePress}&gt;
        &lt;View style={styles.button}&gt;
          &lt;Text&gt;{this.props.text}&lt;/Text&gt;
        &lt;/View&gt;
      &lt;/TouchableWithoutFeedback&gt;
    );
  }
}

class ScaledWebView extends React.Component {
  state = {
    scalingEnabled: true,
  };

  render() {
    return (
      &lt;View&gt;
        &lt;WebView
          style={{
            backgroundColor: BGWASH,
            height: 200,
          }}
          source={{uri: 'https://facebook.github.io/react/'}}
          scalesPageToFit={this.state.scalingEnabled}
        /&gt;
        &lt;View style={styles.buttons}&gt;
        { this.state.scalingEnabled ?
          &lt;Button
            text="Scaling:ON"
            enabled={true}
            onPress={() =&gt; this.setState({scalingEnabled: false})}
          /&gt; :
          &lt;Button
            text="Scaling:OFF"
            enabled={true}
            onPress={() =&gt; this.setState({scalingEnabled: true})}
          /&gt; }
        &lt;/View&gt;
      &lt;/View&gt;
    );
  }
}

class MessagingTest extends React.Component {
  webview = null

  state = {
    messagesReceivedFromWebView: 0,
    message: '',
  }

  onMessage = e =&gt; this.setState({
    messagesReceivedFromWebView: this.state.messagesReceivedFromWebView + 1,
    message: e.nativeEvent.data,
  })

  postMessage = () =&gt; {
    if (this.webview) {
      this.webview.postMessage('"Hello" from React Native!');
    }
  }

  render(): ReactElement&lt;any&gt; {
    const {messagesReceivedFromWebView, message} = this.state;

    return (
      &lt;View style={[styles.container, { height: 200 }]}&gt;
        &lt;View style={styles.container}&gt;
          &lt;Text&gt;Messages received from web view: {messagesReceivedFromWebView}&lt;/Text&gt;
          &lt;Text&gt;{message || '(No message)'}&lt;/Text&gt;
          &lt;View style={styles.buttons}&gt;
            &lt;Button text="Send Message to Web View" enabled onPress={this.postMessage} /&gt;
          &lt;/View&gt;
        &lt;/View&gt;
        &lt;View style={styles.container}&gt;
          &lt;WebView
            ref={webview =&gt; { this.webview = webview; }}
            style={{
              backgroundColor: BGWASH,
              height: 100,
            }}
            source={require('./messagingtest.html')}
            onMessage={this.onMessage}
          /&gt;
        &lt;/View&gt;
      &lt;/View&gt;
    );
  }
}

class InjectJS extends React.Component {
  webview = null;
  injectJS = () =&gt; {
    const script = 'document.write("Injected JS ")';  // eslint-disable-line quotes
    if (this.webview) {
      this.webview.injectJavaScript(script);
    }
  }
  render() {
    return (
      &lt;View&gt;
        &lt;WebView
          ref={webview =&gt; { this.webview = webview; }}
          style={{
            backgroundColor: BGWASH,
            height: 300,
          }}
          source={{uri: 'https://www.facebook.com'}}
          scalesPageToFit={true}
        /&gt;
        &lt;View style={styles.buttons}&gt;
          &lt;Button text="Inject JS" enabled onPress={this.injectJS} /&gt;
        &lt;/View&gt;
    &lt;/View&gt;
    );
  }
}


var styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: HEADER,
  },
  addressBarRow: {
    flexDirection: 'row',
    padding: 8,
  },
  webView: {
    backgroundColor: BGWASH,
    height: 350,
  },
  addressBarTextInput: {
    backgroundColor: BGWASH,
    borderColor: 'transparent',
    borderRadius: 3,
    borderWidth: 1,
    height: 24,
    paddingLeft: 10,
    paddingTop: 3,
    paddingBottom: 3,
    flex: 1,
    fontSize: 14,
  },
  navButton: {
    width: 20,
    padding: 3,
    marginRight: 3,
    alignItems: 'center',
    justifyContent: 'center',
    backgroundColor: BGWASH,
    borderColor: 'transparent',
    borderRadius: 3,
  },
  disabledButton: {
    width: 20,
    padding: 3,
    marginRight: 3,
    alignItems: 'center',
    justifyContent: 'center',
    backgroundColor: DISABLED_WASH,
    borderColor: 'transparent',
    borderRadius: 3,
  },
  goButton: {
    height: 24,
    padding: 3,
    marginLeft: 8,
    alignItems: 'center',
    backgroundColor: BGWASH,
    borderColor: 'transparent',
    borderRadius: 3,
    alignSelf: 'stretch',
  },
  statusBar: {
    flexDirection: 'row',
    alignItems: 'center',
    paddingLeft: 5,
    height: 22,
  },
  statusBarText: {
    color: 'white',
    fontSize: 13,
  },
  spinner: {
    width: 20,
    marginRight: 6,
  },
  buttons: {
    flexDirection: 'row',
    height: 30,
    backgroundColor: 'black',
    alignItems: 'center',
    justifyContent: 'space-between',
  },
  button: {
    flex: 0.5,
    width: 0,
    margin: 5,
    borderColor: 'gray',
    borderWidth: 1,
    backgroundColor: 'gray',
  },
});

const HTML = `
&lt;!DOCTYPE html&gt;\n
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Hello Static World&lt;/title&gt;
    &lt;meta http-equiv="content-type" content="text/html; charset=utf-8"&gt;
    &lt;meta name="viewport" content="width=320, user-scalable=no"&gt;
    &lt;style type="text/css"&gt;
      body {
        margin: 0;
        padding: 0;
        font: 62.5% arial, sans-serif;
        background: #ccc;
      }
      h1 {
        padding: 45px;
        margin: 0;
        text-align: center;
        color: #33f;
      }
    &lt;/style&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;Hello Static World&lt;/h1&gt;
  &lt;/body&gt;
&lt;/html&gt;
`;

exports.displayName = (undefined: ?string);
exports.title = '&lt;WebView&gt;';
exports.description = 'Base component to display web content';
exports.examples = [
  {
    title: 'Simple Browser',
    render(): React.Element&lt;any&gt; { return &lt;WebViewExample /&gt;; }
  },
  {
    title: 'Scale Page to Fit',
    render(): React.Element&lt;any&gt; { return &lt;ScaledWebView/&gt;; }
  },
  {
    title: 'Bundled HTML',
    render(): React.Element&lt;any&gt; {
      return (
        &lt;WebView
          style={{
            backgroundColor: BGWASH,
            height: 100,
          }}
          source={require('./helloworld.html')}
          scalesPageToFit={true}
        /&gt;
      );
    }
  },
  {
    title: 'Static HTML',
    render(): React.Element&lt;any&gt; {
      return (
        &lt;WebView
          style={{
            backgroundColor: BGWASH,
            height: 100,
          }}
          source={{html: HTML}}
          scalesPageToFit={true}
        /&gt;
      );
    }
  },
  {
    title: 'POST Test',
    render(): React.Element&lt;any&gt; {
      return (
        &lt;WebView
          style={{
            backgroundColor: BGWASH,
            height: 100,
          }}
          source={{
            uri: 'http://www.posttestserver.com/post.php',
            method: 'POST',
            body: 'foo=bar&amp;bar=foo'
          }}
          scalesPageToFit={false}
        /&gt;
      );
    }
  },
  {
    title: 'Messaging Test',
    render(): ReactElement&lt;any&gt; { return &lt;MessagingTest /&gt;; }
  },
  {
    title: 'Inject JavaScript',
    render(): React.Element&lt;any&gt; { return &lt;InjectJS /&gt;; }
  },
];</pre></div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2015–2017 Facebook Inc.<br>Licensed under the Creative Commons Attribution 4.0 International Public License.<br>
    <a href="https://facebook.github.io/react-native/docs/webview.html" class="_attribution-link" target="_blank">https://facebook.github.io/react-native/docs/webview.html</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
