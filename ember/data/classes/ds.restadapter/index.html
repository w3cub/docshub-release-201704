
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>DS.RESTAdapter - Ember.js - W3cubDocs</title>
  
  <meta name="description" content=" Extends&#58; DS.Adapter ">
  <meta name="keywords" content="ds, restadapter, class, -, ember, js">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/ember/data/classes/ds.restadapter/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/ember.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/ember/" class="_nav-link" title="" style="margin-left:0;">Ember.js</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _ember">
				
<h1 class="api-header"> DS.RESTAdapter Class  </h1>  <blockquote class="class-info"> <p>Extends: <a href="../ds.adapter/">DS.Adapter</a></p> <p>Uses: <a href="../ds.buildurlmixin/">DS.BuildURLMixin</a></p> <p>Defined in: <a class="api-file-link" href="https://github.com/emberjs/data/tree/v2.12.0/addon/adapters/rest.js#L31" target="_blank">addon/adapters/rest.js:31</a></p> <p>Module: <a href="../../modules/ember-data/">ember-data</a></p> </blockquote> <div class="description"> <p>The REST adapter allows your store to communicate with an HTTP server by transmitting JSON via XHR. Most Ember.js apps that consume a JSON API should use the REST adapter.</p> <p>This adapter is designed around the idea that the JSON exchanged with the server should be conventional.</p> <h2 class="anchorable-toc" id="toc_success-and-failure">Success and failure</h2> <p>The REST adapter will consider a success any response with a status code of the 2xx family ("Success"), as well as 304 ("Not Modified"). Any other status code will be considered a failure.</p> <p>On success, the request promise will be resolved with the full response payload.</p> <p>Failed responses with status code 422 ("Unprocessable Entity") will be considered "invalid". The response will be discarded, except for the <code>errors</code> key. The request promise will be rejected with a <code>DS.InvalidError</code>. This error object will encapsulate the saved <code>errors</code> value.</p> <p>Any other status codes will be treated as an "adapter error". The request promise will be rejected, similarly to the "invalid" case, but with an instance of <code>DS.AdapterError</code> instead.</p> <h2 class="anchorable-toc" id="toc_json-structure">JSON Structure</h2> <p>The REST adapter expects the JSON returned from your server to follow these conventions.</p> <h3 class="anchorable-toc" id="toc_object-root">Object Root</h3> <p>The JSON payload should be an object that contains the record inside a root property. For example, in response to a <code>GET</code> request for <code>/posts/1</code>, the JSON should look like this:</p> <pre class="highlight js " data-language="js">{
  "posts": {
    "id": 1,
    "title": "I'm Running to Reform the W3C's Tag",
    "author": "Yehuda Katz"
  }
}
</pre> <p>Similarly, in response to a <code>GET</code> request for <code>/posts</code>, the JSON should look like this:</p> <pre class="highlight js " data-language="js">{
  "posts": [
    {
      "id": 1,
      "title": "I'm Running to Reform the W3C's Tag",
      "author": "Yehuda Katz"
    },
    {
      "id": 2,
      "title": "Rails is omakase",
      "author": "D2H"
    }
  ]
}
</pre> <p>Note that the object root can be pluralized for both a single-object response and an array response: the REST adapter is not strict on this. Further, if the HTTP server responds to a <code>GET</code> request to <code>/posts/1</code> (e.g. the response to a <code>findRecord</code> query) with more than one object in the array, Ember Data will only display the object with the matching ID.</p> <h3 class="anchorable-toc" id="toc_conventional-names">Conventional Names</h3> <p>Attribute names in your JSON payload should be the camelCased versions of the attributes in your Ember.js models.</p> <p>For example, if you have a <code>Person</code> model:</p> <div class="pre-title"><code>app/models/person.js</code></div>
<pre class="highlight javascript " data-language="javascript">import DS from 'ember-data';

export default DS.Model.extend({
  firstName: DS.attr('string'),
  lastName: DS.attr('string'),
  occupation: DS.attr('string')
});
</pre> <p>The JSON returned should look like this:</p> <pre class="highlight js " data-language="js">{
  "people": {
    "id": 5,
    "firstName": "Barack",
    "lastName": "Obama",
    "occupation": "President"
  }
}
</pre>
<h4 class="anchorable-toc" id="toc_relationships">Relationships</h4> <p>Relationships are usually represented by ids to the record in the relationship. The related records can then be sideloaded in the response under a key for the type.</p> <pre class="highlight js " data-language="js">{
  "posts": {
    "id": 5,
    "title": "I'm Running to Reform the W3C's Tag",
    "author": "Yehuda Katz",
    "comments": [1, 2]
  },
  "comments": [{
    "id": 1,
    "author": "User 1",
    "message": "First!",
  }, {
    "id": 2,
    "author": "User 2",
    "message": "Good Luck!",
  }]
}
</pre> <p>If the records in the relationship are not known when the response is serialized its also possible to represent the relationship as a url using the <code>links</code> key in the response. Ember Data will fetch this url to resolve the relationship when it is accessed for the first time.</p> <pre class="highlight js " data-language="js">{
  "posts": {
    "id": 5,
    "title": "I'm Running to Reform the W3C's Tag",
    "author": "Yehuda Katz",
    "links": {
      "comments": "/posts/5/comments"
    }
  }
}
</pre>
<h3 class="anchorable-toc" id="toc_errors">Errors</h3> <p>If a response is considered a failure, the JSON payload is expected to include a top-level key <code>errors</code>, detailing any specific issues. For example:</p> <pre class="highlight js " data-language="js">{
  "errors": {
    "msg": "Something went wrong"
  }
}
</pre> <p>This adapter does not make any assumptions as to the format of the <code>errors</code> object. It will simply be passed along as is, wrapped in an instance of <code>DS.InvalidError</code> or <code>DS.AdapterError</code>. The serializer can interpret it afterwards.</p> <h2 class="anchorable-toc" id="toc_customization">Customization</h2>
<h3 class="anchorable-toc" id="toc_endpoint-path-customization">Endpoint path customization</h3> <p>Endpoint paths can be prefixed with a <code>namespace</code> by setting the namespace property on the adapter:</p> <div class="pre-title"><code>app/adapters/application.js</code></div>
<pre class="highlight javascript " data-language="javascript">import DS from 'ember-data';

export default DS.RESTAdapter.extend({
  namespace: 'api/1'
});
</pre> <p>Requests for the <code>Person</code> model would now target <code>/api/1/people/1</code>.</p> <h3 class="anchorable-toc" id="toc_host-customization">Host customization</h3> <p>An adapter can target other hosts by setting the <code>host</code> property.</p> <div class="pre-title"><code>app/adapters/application.js</code></div>
<pre class="highlight javascript " data-language="javascript">import DS from 'ember-data';

export default DS.RESTAdapter.extend({
  host: 'https://api.example.com'
});
</pre>
<h3 class="anchorable-toc" id="toc_headers-customization">Headers customization</h3> <p>Some APIs require HTTP headers, e.g. to provide an API key. Arbitrary headers can be set as key/value pairs on the <code>RESTAdapter</code>'s <code>headers</code> object and Ember Data will send them along with each ajax request.</p> <div class="pre-title"><code>app/adapters/application.js</code></div>
<pre class="highlight javascript " data-language="javascript">import DS from 'ember-data';

export default DS.RESTAdapter.extend({
  headers: {
    "API_KEY": "secret key",
    "ANOTHER_HEADER": "Some header value"
  }
});
</pre> <p><code>headers</code> can also be used as a computed property to support dynamic headers. In the example below, the <code>session</code> object has been injected into an adapter by Ember's container.</p> <div class="pre-title"><code>app/adapters/application.js</code></div>
<pre class="highlight javascript " data-language="javascript">import DS from 'ember-data';

export default DS.RESTAdapter.extend({
  headers: Ember.computed('session.authToken', function() {
    return {
      "API_KEY": this.get("session.authToken"),
      "ANOTHER_HEADER": "Some header value"
    };
  })
});
</pre> <p>In some cases, your dynamic headers may require data from some object outside of Ember's observer system (for example <code>document.cookie</code>). You can use the <a href="../../../classes/ember.computedproperty/#method_volatile">volatile</a> function to set the property into a non-cached mode causing the headers to be recomputed with every request.</p> <div class="pre-title"><code>app/adapters/application.js</code></div>
<pre class="highlight javascript " data-language="javascript">import DS from 'ember-data';

export default DS.RESTAdapter.extend({
  headers: Ember.computed(function() {
    return {
      "API_KEY": Ember.get(document.cookie.match(/apiKey\=([^;]*)/), "1"),
      "ANOTHER_HEADER": "Some header value"
    };
  }).volatile()
});
</pre> </div>    <h2 id="method__ajaxRequest">_ajaxRequest<span class="args"> (options) </span><span class="flag private">private</span>
</h2>   <p class="meta"> Defined in <a class="api-file-link" href="https://github.com/emberjs/data/tree/v2.12.0/addon/adapters/rest.js#L1077" target="_blank">addon/adapters/rest.js:1077</a> </p>  <div class="params"> <h3>Parameters:</h3> <dl> <dt>
<strong>options</strong> <code class="type">Object</code>
</dt> <dd> jQuery ajax options to be used for the ajax request </dd> </dl> </div>    <h2 id="method__makeRequest">_makeRequest<span class="args"> (request) </span><code class="type">Promise</code><span class="flag private">private</span>
</h2>    <p class="meta"> Defined in <a class="api-file-link" href="https://github.com/emberjs/data/tree/v2.12.0/addon/adapters/rest.js#L1425" target="_blank">addon/adapters/rest.js:1425</a> </p> <div class="description"> <p>Make a request using <code>jQuery.ajax</code>.</p> </div>  <div class="params"> <h3>Parameters:</h3> <dl> <dt>
<strong>request</strong> <code class="type">Object</code>
</dt>  </dl> </div> <div class="return"> <h3>Returns:</h3> <dl> <dt>
<code class="type">Promise</code> </dt>
<dd> promise</dd> </dl> </div>   <h2 id="method__requestFor">_requestFor<span class="args"> (params) </span><code class="type">Object</code><span class="flag private">private</span>
</h2>    <p class="meta"> Defined in <a class="api-file-link" href="https://github.com/emberjs/data/tree/v2.12.0/addon/adapters/rest.js#L1372" target="_blank">addon/adapters/rest.js:1372</a> </p> <div class="description"> <p>Get an object which contains all properties for a request which should be made.</p> </div>  <div class="params"> <h3>Parameters:</h3> <dl> <dt>
<strong>params</strong> <code class="type">Object</code>
</dt>  </dl> </div> <div class="return"> <h3>Returns:</h3> <dl> <dt>
<code class="type">Object</code> </dt>
<dd> request object</dd> </dl> </div>   <h2 id="method__requestToJQueryAjaxHash">_requestToJQueryAjaxHash<span class="args"> (request) </span><code class="type">Object</code><span class="flag private">private</span>
</h2>    <p class="meta"> Defined in <a class="api-file-link" href="https://github.com/emberjs/data/tree/v2.12.0/addon/adapters/rest.js#L1390" target="_blank">addon/adapters/rest.js:1390</a> </p> <div class="description"> <p>Convert a request object into a hash which can be passed to <code>jQuery.ajax</code>.</p> </div>  <div class="params"> <h3>Parameters:</h3> <dl> <dt>
<strong>request</strong> <code class="type">Object</code>
</dt>  </dl> </div> <div class="return"> <h3>Returns:</h3> <dl> <dt>
<code class="type">Object</code> </dt>
<dd> jQuery ajax hash</dd> </dl> </div>   <h2 id="method_ajax">ajax<span class="args"> (url, type, options) </span><code class="type">Promise</code><span class="flag private">private</span>
</h2>    <p class="meta"> Defined in <a class="api-file-link" href="https://github.com/emberjs/data/tree/v2.12.0/addon/adapters/rest.js#L1021" target="_blank">addon/adapters/rest.js:1021</a> </p> <div class="description"> <p>Takes a URL, an HTTP method and a hash of data, and makes an HTTP request.</p> <p>When the server responds with a payload, Ember Data will call into <code>extractSingle</code> or <code>extractArray</code> (depending on whether the original query was for one record or many records).</p> <p>By default, <code>ajax</code> method has the following behavior:</p> <ul> <li>It sets the response <code>dataType</code> to <code>"json"</code>
</li> <li>If the HTTP method is not <code>"GET"</code>, it sets the <code>Content-Type</code> to be <code>application/json; charset=utf-8</code>
</li> <li>If the HTTP method is not <code>"GET"</code>, it stringifies the data passed in. The data is the serialized record in the case of a save.</li> <li>Registers success and failure handlers.</li> </ul> </div>  <div class="params"> <h3>Parameters:</h3> <dl> <dt>
<strong>url</strong> <code class="type">String</code>
</dt>  <dt>
<strong>type</strong> <code class="type">String</code>
</dt> <dd> The request type GET, POST, PUT, DELETE etc. </dd> <dt>
<strong>options</strong> <code class="type">Object</code>
</dt>  </dl> </div> <div class="return"> <h3>Returns:</h3> <dl> <dt>
<code class="type">Promise</code> </dt>
<dd> promise</dd> </dl> </div>   <h2 id="method_ajaxOptions">ajaxOptions<span class="args"> (url, type, options) </span><code class="type">Object</code><span class="flag private">private</span>
</h2>    <p class="meta"> Defined in <a class="api-file-link" href="https://github.com/emberjs/data/tree/v2.12.0/addon/adapters/rest.js#L1086" target="_blank">addon/adapters/rest.js:1086</a> </p>  <div class="params"> <h3>Parameters:</h3> <dl> <dt>
<strong>url</strong> <code class="type">String</code>
</dt>  <dt>
<strong>type</strong> <code class="type">String</code>
</dt> <dd> The request type GET, POST, PUT, DELETE etc. </dd> <dt>
<strong>options</strong> <code class="type">Object</code>
</dt>  </dl> </div> <div class="return"> <h3>Returns:</h3> <dl> <dt>
<code class="type">Object</code> </dt>
 </dl> </div>    <h2 id="method_createRecord">createRecord<span class="args"> (store, type, snapshot) </span><code class="type">Promise</code>
</h2>   <p class="meta"> Inherited from <a href="../ds.adapter/#method_createRecord">DS.Adapter</a> but overwritten in <a class="api-file-link" href="https://github.com/emberjs/data/tree/v2.12.0/addon/adapters/rest.js#L746" target="_blank">addon/adapters/rest.js:746</a> </p> <div class="description"> <p>Called by the store when a newly created record is saved via the <code>save</code> method on a model record instance.</p> <p>The <code>createRecord</code> method serializes the record and makes an Ajax (HTTP POST) request to a URL computed by <code>buildURL</code>.</p> <p>See <code>serialize</code> for information on how to customize the serialized form of a record.</p> </div>  <div class="params"> <h3>Parameters:</h3> <dl> <dt>
<strong>store</strong> <code class="type"><a href="../ds.store/">DS.Store</a></code>
</dt>  <dt>
<strong>type</strong> <code class="type"><a href="../ds.model/">DS.Model</a></code>
</dt>  <dt>
<strong>snapshot</strong> <code class="type"><a href="../ds.snapshot/">DS.Snapshot</a></code>
</dt>  </dl> </div> <div class="return"> <h3>Returns:</h3> <dl> <dt>
<code class="type">Promise</code> </dt>
<dd> promise</dd> </dl> </div>   <h2 id="method_dataForRequest">dataForRequest<span class="args"> (params) </span><code class="type">Object</code><span class="flag public">public</span>
</h2>    <p class="meta"> Defined in <a class="api-file-link" href="https://github.com/emberjs/data/tree/v2.12.0/addon/adapters/rest.js#L1242" target="_blank">addon/adapters/rest.js:1242</a> </p> <div class="description"> <p>Get the data (body or query params) for a request.</p> </div>  <div class="params"> <h3>Parameters:</h3> <dl> <dt>
<strong>params</strong> <code class="type">Object</code>
</dt>  </dl> </div> <div class="return"> <h3>Returns:</h3> <dl> <dt>
<code class="type">Object</code> </dt>
<dd> data</dd> </dl> </div>   <h2 id="method_deleteRecord">deleteRecord<span class="args"> (store, type, snapshot) </span><code class="type">Promise</code>
</h2>   <p class="meta"> Inherited from <a href="../ds.adapter/#method_deleteRecord">DS.Adapter</a> but overwritten in <a class="api-file-link" href="https://github.com/emberjs/data/tree/v2.12.0/addon/adapters/rest.js#L818" target="_blank">addon/adapters/rest.js:818</a> </p> <div class="description"> <p>Called by the store when a record is deleted.</p> <p>The <code>deleteRecord</code> method makes an Ajax (HTTP DELETE) request to a URL computed by <code>buildURL</code>.</p> </div>  <div class="params"> <h3>Parameters:</h3> <dl> <dt>
<strong>store</strong> <code class="type"><a href="../ds.store/">DS.Store</a></code>
</dt>  <dt>
<strong>type</strong> <code class="type"><a href="../ds.model/">DS.Model</a></code>
</dt>  <dt>
<strong>snapshot</strong> <code class="type"><a href="../ds.snapshot/">DS.Snapshot</a></code>
</dt>  </dl> </div> <div class="return"> <h3>Returns:</h3> <dl> <dt>
<code class="type">Promise</code> </dt>
<dd> promise</dd> </dl> </div>   <h2 id="method_findAll">findAll<span class="args"> (store, type, sinceToken, snapshotRecordArray) </span><code class="type">Promise</code>
</h2>   <p class="meta"> Inherited from <a href="../ds.adapter/#method_findAll">DS.Adapter</a> but overwritten in <a class="api-file-link" href="https://github.com/emberjs/data/tree/v2.12.0/addon/adapters/rest.js#L484" target="_blank">addon/adapters/rest.js:484</a> </p> <div class="description"> <p>Called by the store in order to fetch a JSON array for all of the records for a given type.</p> <p>The <code>findAll</code> method makes an Ajax (HTTP GET) request to a URL computed by <code>buildURL</code>, and returns a promise for the resulting payload.</p> </div>  <div class="params"> <h3>Parameters:</h3> <dl> <dt>
<strong>store</strong> <code class="type"><a href="../ds.store/">DS.Store</a></code>
</dt>  <dt>
<strong>type</strong> <code class="type"><a href="../ds.model/">DS.Model</a></code>
</dt>  <dt>
<strong>sinceToken</strong> <code class="type">String</code>
</dt>  <dt>
<strong>snapshotRecordArray</strong> <code class="type"><a href="../ds.snapshotrecordarray/">DS.SnapshotRecordArray</a></code>
</dt>  </dl> </div> <div class="return"> <h3>Returns:</h3> <dl> <dt>
<code class="type">Promise</code> </dt>
<dd> promise</dd> </dl> </div>   <h2 id="method_findBelongsTo">findBelongsTo<span class="args"> (store, snapshot, url) </span><code class="type">Promise</code>
</h2>   <p class="meta"> Defined in <a class="api-file-link" href="https://github.com/emberjs/data/tree/v2.12.0/addon/adapters/rest.js#L694" target="_blank">addon/adapters/rest.js:694</a> </p> <div class="description"> <p>Called by the store in order to fetch the JSON for the unloaded record in a belongs-to relationship that was originally specified as a URL (inside of <code>links</code>).</p> <p>For example, if your original payload looks like this:</p> <pre class="highlight js " data-language="js">{
  "person": {
    "id": 1,
    "name": "Tom Dale",
    "links": { "group": "/people/1/group" }
  }
}
</pre> <p>This method will be called with the parent record and <code>/people/1/group</code>.</p> <p>The <code>findBelongsTo</code> method will make an Ajax (HTTP GET) request to the originally specified URL.</p> <p>The format of your <code>links</code> value will influence the final request URL via the <code>urlPrefix</code> method:</p> <ul> <li><p>Links beginning with <code>//</code>, <code>http://</code>, <code>https://</code>, will be used as is, with no further manipulation.</p></li> <li><p>Links beginning with a single <code>/</code> will have the current adapter's <code>host</code> value prepended to it.</p></li> <li><p>Links with no beginning <code>/</code> will have a parentURL prepended to it, via the current adapter's <code>buildURL</code>.</p></li> </ul> </div>  <div class="params"> <h3>Parameters:</h3> <dl> <dt>
<strong>store</strong> <code class="type"><a href="../ds.store/">DS.Store</a></code>
</dt>  <dt>
<strong>snapshot</strong> <code class="type"><a href="../ds.snapshot/">DS.Snapshot</a></code>
</dt>  <dt>
<strong>url</strong> <code class="type">String</code>
</dt>  </dl> </div> <div class="return"> <h3>Returns:</h3> <dl> <dt>
<code class="type">Promise</code> </dt>
<dd> promise</dd> </dl> </div>   <h2 id="method_findHasMany">findHasMany<span class="args"> (store, snapshot, relationship, url) </span><code class="type">Promise</code>
</h2>   <p class="meta"> Defined in <a class="api-file-link" href="https://github.com/emberjs/data/tree/v2.12.0/addon/adapters/rest.js#L640" target="_blank">addon/adapters/rest.js:640</a> </p> <div class="description"> <p>Called by the store in order to fetch a JSON array for the unloaded records in a has-many relationship that were originally specified as a URL (inside of <code>links</code>).</p> <p>For example, if your original payload looks like this:</p> <pre class="highlight js " data-language="js">{
  "post": {
    "id": 1,
    "title": "Rails is omakase",
    "links": { "comments": "/posts/1/comments" }
  }
}
</pre> <p>This method will be called with the parent record and <code>/posts/1/comments</code>.</p> <p>The <code>findHasMany</code> method will make an Ajax (HTTP GET) request to the originally specified URL.</p> <p>The format of your <code>links</code> value will influence the final request URL via the <code>urlPrefix</code> method:</p> <ul> <li><p>Links beginning with <code>//</code>, <code>http://</code>, <code>https://</code>, will be used as is, with no further manipulation.</p></li> <li><p>Links beginning with a single <code>/</code> will have the current adapter's <code>host</code> value prepended to it.</p></li> <li><p>Links with no beginning <code>/</code> will have a parentURL prepended to it, via the current adapter's <code>buildURL</code>.</p></li> </ul> </div>  <div class="params"> <h3>Parameters:</h3> <dl> <dt>
<strong>store</strong> <code class="type"><a href="../ds.store/">DS.Store</a></code>
</dt>  <dt>
<strong>snapshot</strong> <code class="type"><a href="../ds.snapshot/">DS.Snapshot</a></code>
</dt>  <dt>
<strong>relationship</strong> <code class="type">Object</code>
</dt> <dd> meta object describing the relationship </dd> <dt>
<strong>url</strong> <code class="type">String</code>
</dt>  </dl> </div> <div class="return"> <h3>Returns:</h3> <dl> <dt>
<code class="type">Promise</code> </dt>
<dd> promise</dd> </dl> </div>   <h2 id="method_findMany">findMany<span class="args"> (store, type, ids, snapshots) </span><code class="type">Promise</code>
</h2>   <p class="meta"> Inherited from <a href="../ds.adapter/#method_findMany">DS.Adapter</a> but overwritten in <a class="api-file-link" href="https://github.com/emberjs/data/tree/v2.12.0/addon/adapters/rest.js#L593" target="_blank">addon/adapters/rest.js:593</a> </p> <div class="description"> <p>Called by the store in order to fetch several records together if <code>coalesceFindRequests</code> is true</p> <p>For example, if the original payload looks like:</p> <pre class="highlight js " data-language="js">{
  "id": 1,
  "title": "Rails is omakase",
  "comments": [ 1, 2, 3 ]
}
</pre> <p>The IDs will be passed as a URL-encoded Array of IDs, in this form:</p> <pre class="highlight text " data-language="">ids[]=1&amp;ids[]=2&amp;ids[]=3
</pre> <p>Many servers, such as Rails and PHP, will automatically convert this URL-encoded array into an Array for you on the server-side. If you want to encode the IDs, differently, just override this (one-line) method.</p> <p>The <code>findMany</code> method makes an Ajax (HTTP GET) request to a URL computed by <code>buildURL</code>, and returns a promise for the resulting payload.</p> </div>  <div class="params"> <h3>Parameters:</h3> <dl> <dt>
<strong>store</strong> <code class="type"><a href="../ds.store/">DS.Store</a></code>
</dt>  <dt>
<strong>type</strong> <code class="type"><a href="../ds.model/">DS.Model</a></code>
</dt>  <dt>
<strong>ids</strong> <code class="type">Array</code>
</dt>  <dt>
<strong>snapshots</strong> <code class="type">Array</code>
</dt>  </dl> </div> <div class="return"> <h3>Returns:</h3> <dl> <dt>
<code class="type">Promise</code> </dt>
<dd> promise</dd> </dl> </div>   <h2 id="method_findRecord">findRecord<span class="args"> (store, type, id, snapshot) </span><code class="type">Promise</code>
</h2>   <p class="meta"> Inherited from <a href="../ds.adapter/#method_findRecord">DS.Adapter</a> but overwritten in <a class="api-file-link" href="https://github.com/emberjs/data/tree/v2.12.0/addon/adapters/rest.js#L451" target="_blank">addon/adapters/rest.js:451</a> <br>Available since 1.13.0 </p> <div class="description"> <p>Called by the store in order to fetch the JSON for a given type and ID.</p> <p>The <code>findRecord</code> method makes an Ajax request to a URL computed by <code>buildURL</code>, and returns a promise for the resulting payload.</p> <p>This method performs an HTTP <code>GET</code> request with the id provided as part of the query string.</p> </div>  <div class="params"> <h3>Parameters:</h3> <dl> <dt>
<strong>store</strong> <code class="type"><a href="../ds.store/">DS.Store</a></code>
</dt>  <dt>
<strong>type</strong> <code class="type"><a href="../ds.model/">DS.Model</a></code>
</dt>  <dt>
<strong>id</strong> <code class="type">String</code>
</dt>  <dt>
<strong>snapshot</strong> <code class="type"><a href="../ds.snapshot/">DS.Snapshot</a></code>
</dt>  </dl> </div> <div class="return"> <h3>Returns:</h3> <dl> <dt>
<code class="type">Promise</code> </dt>
<dd> promise</dd> </dl> </div>    <h2 id="method_generatedDetailedMessage">generatedDetailedMessage<span class="args"> (status, headers, payload, requestData) </span><code class="type">String</code><span class="flag private">private</span>
</h2>    <p class="meta"> Defined in <a class="api-file-link" href="https://github.com/emberjs/data/tree/v2.12.0/addon/adapters/rest.js#L1172" target="_blank">addon/adapters/rest.js:1172</a> </p> <div class="description"> <p>Generates a detailed ("friendly") error message, with plenty of information for debugging (good luck!)</p> </div>  <div class="params"> <h3>Parameters:</h3> <dl> <dt>
<strong>status</strong> <code class="type">Number</code>
</dt>  <dt>
<strong>headers</strong> <code class="type">Object</code>
</dt>  <dt>
<strong>payload</strong> <code class="type">Object</code>
</dt>  <dt>
<strong>requestData</strong> <code class="type">Object</code>
</dt>  </dl> </div> <div class="return"> <h3>Returns:</h3> <dl> <dt>
<code class="type">String</code> </dt>
<dd> detailed error message</dd> </dl> </div>   <h2 id="method_groupRecordsForFindMany">groupRecordsForFindMany<span class="args"> (store, snapshots) </span><code class="type">Array</code>
</h2>   <p class="meta"> Inherited from <a href="../ds.adapter/#method_groupRecordsForFindMany">DS.Adapter</a> but overwritten in <a class="api-file-link" href="https://github.com/emberjs/data/tree/v2.12.0/addon/adapters/rest.js#L868" target="_blank">addon/adapters/rest.js:868</a> </p> <div class="description"> <p>Organize records into groups, each of which is to be passed to separate calls to <code>findMany</code>.</p> <p>This implementation groups together records that have the same base URL but differing ids. For example <code>/comments/1</code> and <code>/comments/2</code> will be grouped together because we know findMany can coalesce them together as <code>/comments?ids[]=1&amp;ids[]=2</code></p> <p>It also supports urls where ids are passed as a query param, such as <code>/comments?id=1</code> but not those where there is more than 1 query param such as <code>/comments?id=2&amp;name=David</code> Currently only the query param of <code>id</code> is supported. If you need to support others, please override this or the <code>_stripIDFromURL</code> method.</p> <p>It does not group records that have differing base urls, such as for example: <code>/posts/1/comments/2</code> and <code>/posts/2/comments/3</code></p> </div>  <div class="params"> <h3>Parameters:</h3> <dl> <dt>
<strong>store</strong> <code class="type"><a href="../ds.store/">DS.Store</a></code>
</dt>  <dt>
<strong>snapshots</strong> <code class="type">Array</code>
</dt>  </dl> </div> <div class="return"> <h3>Returns:</h3> <dl> <dt>
<code class="type">Array</code> </dt>
<dd> an array of arrays of records, each of which is to be loaded separately by `findMany`.</dd> </dl> </div>   <h2 id="method_handleResponse">handleResponse<span class="args"> (status, headers, payload, requestData) </span><code class="type">Object | DS.AdapterError</code>
</h2>   <p class="meta"> Defined in <a class="api-file-link" href="https://github.com/emberjs/data/tree/v2.12.0/addon/adapters/rest.js#L932" target="_blank">addon/adapters/rest.js:932</a> <br>Available since 1.13.0 </p> <div class="description"> <p>Takes an ajax response, and returns the json payload or an error.</p> <p>By default this hook just returns the json payload passed to it. You might want to override it in two cases:</p> <ol> <li><p>Your API might return useful results in the response headers. Response headers are passed in as the second argument.</p></li> <li><p>Your API might return errors as successful responses with status code 200 and an Errors text or object. You can return a <code>DS.InvalidError</code> or a <code>DS.AdapterError</code> (or a sub class) from this hook and it will automatically reject the promise and put your record into the invalid or error state.</p></li> </ol> <p>Returning a <code>DS.InvalidError</code> from this method will cause the record to transition into the <code>invalid</code> state and make the <code>errors</code> object available on the record. When returning an <code>DS.InvalidError</code> the store will attempt to normalize the error data returned from the server using the serializer's <code>extractErrors</code> method.</p> </div>  <div class="params"> <h3>Parameters:</h3> <dl> <dt>
<strong>status</strong> <code class="type">Number</code>
</dt>  <dt>
<strong>headers</strong> <code class="type">Object</code>
</dt>  <dt>
<strong>payload</strong> <code class="type">Object</code>
</dt>  <dt>
<strong>requestData</strong> <code class="type">Object</code>
</dt> <dd> - the original request information </dd> </dl> </div> <div class="return"> <h3>Returns:</h3> <dl> <dt>
<code class="type">Object | DS.AdapterError</code> </dt>
<dd> response</dd> </dl> </div>   <h2 id="method_headersForRequest">headersForRequest<span class="args"> (params) </span><code class="type">Object</code><span class="flag public">public</span>
</h2>    <p class="meta"> Defined in <a class="api-file-link" href="https://github.com/emberjs/data/tree/v2.12.0/addon/adapters/rest.js#L1357" target="_blank">addon/adapters/rest.js:1357</a> </p> <div class="description"> <p>Get the headers for a request.</p> <p>By default the value of the <code>headers</code> property of the adapter is returned.</p> </div>  <div class="params"> <h3>Parameters:</h3> <dl> <dt>
<strong>params</strong> <code class="type">Object</code>
</dt>  </dl> </div> <div class="return"> <h3>Returns:</h3> <dl> <dt>
<code class="type">Object</code> </dt>
<dd> headers</dd> </dl> </div>   <h2 id="method_isInvalid">isInvalid<span class="args"> (status, headers, payload) </span><code class="type">Boolean</code>
</h2>   <p class="meta"> Defined in <a class="api-file-link" href="https://github.com/emberjs/data/tree/v2.12.0/addon/adapters/rest.js#L1006" target="_blank">addon/adapters/rest.js:1006</a> <br>Available since 1.13.0 </p> <div class="description"> <p>Default <code>handleResponse</code> implementation uses this hook to decide if the response is an invalid error.</p> </div>  <div class="params"> <h3>Parameters:</h3> <dl> <dt>
<strong>status</strong> <code class="type">Number</code>
</dt>  <dt>
<strong>headers</strong> <code class="type">Object</code>
</dt>  <dt>
<strong>payload</strong> <code class="type">Object</code>
</dt>  </dl> </div> <div class="return"> <h3>Returns:</h3> <dl> <dt>
<code class="type">Boolean</code> </dt>
 </dl> </div>   <h2 id="method_isSuccess">isSuccess<span class="args"> (status, headers, payload) </span><code class="type">Boolean</code>
</h2>   <p class="meta"> Defined in <a class="api-file-link" href="https://github.com/emberjs/data/tree/v2.12.0/addon/adapters/rest.js#L991" target="_blank">addon/adapters/rest.js:991</a> <br>Available since 1.13.0 </p> <div class="description"> <p>Default <code>handleResponse</code> implementation uses this hook to decide if the response is a success.</p> </div>  <div class="params"> <h3>Parameters:</h3> <dl> <dt>
<strong>status</strong> <code class="type">Number</code>
</dt>  <dt>
<strong>headers</strong> <code class="type">Object</code>
</dt>  <dt>
<strong>payload</strong> <code class="type">Object</code>
</dt>  </dl> </div> <div class="return"> <h3>Returns:</h3> <dl> <dt>
<code class="type">Boolean</code> </dt>
 </dl> </div>   <h2 id="method_methodForRequest">methodForRequest<span class="args"> (params) </span><code class="type">String</code><span class="flag public">public</span>
</h2>    <p class="meta"> Defined in <a class="api-file-link" href="https://github.com/emberjs/data/tree/v2.12.0/addon/adapters/rest.js#L1300" target="_blank">addon/adapters/rest.js:1300</a> </p> <div class="description"> <p>Get the HTTP method for a request.</p> </div>  <div class="params"> <h3>Parameters:</h3> <dl> <dt>
<strong>params</strong> <code class="type">Object</code>
</dt>  </dl> </div> <div class="return"> <h3>Returns:</h3> <dl> <dt>
<code class="type">String</code> </dt>
<dd> HTTP method</dd> </dl> </div>   <h2 id="method_normalizeErrorResponse">normalizeErrorResponse<span class="args"> (status, headers, payload) </span><code class="type">Array</code><span class="flag private">private</span>
</h2>    <p class="meta"> Defined in <a class="api-file-link" href="https://github.com/emberjs/data/tree/v2.12.0/addon/adapters/rest.js#L1150" target="_blank">addon/adapters/rest.js:1150</a> </p>  <div class="params"> <h3>Parameters:</h3> <dl> <dt>
<strong>status</strong> <code class="type">Number</code>
</dt>  <dt>
<strong>headers</strong> <code class="type">Object</code>
</dt>  <dt>
<strong>payload</strong> <code class="type">Object</code>
</dt>  </dl> </div> <div class="return"> <h3>Returns:</h3> <dl> <dt>
<code class="type">Array</code> </dt>
<dd> errors payload</dd> </dl> </div>   <h2 id="method_parseErrorResponse">parseErrorResponse<span class="args"> (responseText) </span><code class="type">Object</code><span class="flag private">private</span>
</h2>    <p class="meta"> Defined in <a class="api-file-link" href="https://github.com/emberjs/data/tree/v2.12.0/addon/adapters/rest.js#L1132" target="_blank">addon/adapters/rest.js:1132</a> </p>  <div class="params"> <h3>Parameters:</h3> <dl> <dt>
<strong>responseText</strong> <code class="type">String</code>
</dt>  </dl> </div> <div class="return"> <h3>Returns:</h3> <dl> <dt>
<code class="type">Object</code> </dt>
 </dl> </div>    <h2 id="method_query">query<span class="args"> (store, type, query) </span><code class="type">Promise</code>
</h2>   <p class="meta"> Inherited from <a href="../ds.adapter/#method_query">DS.Adapter</a> but overwritten in <a class="api-file-link" href="https://github.com/emberjs/data/tree/v2.12.0/addon/adapters/rest.js#L520" target="_blank">addon/adapters/rest.js:520</a> </p> <div class="description"> <p>Called by the store in order to fetch a JSON array for the records that match a particular query.</p> <p>The <code>query</code> method makes an Ajax (HTTP GET) request to a URL computed by <code>buildURL</code>, and returns a promise for the resulting payload.</p> <p>The <code>query</code> argument is a simple JavaScript object that will be passed directly to the server as parameters.</p> </div>  <div class="params"> <h3>Parameters:</h3> <dl> <dt>
<strong>store</strong> <code class="type"><a href="../ds.store/">DS.Store</a></code>
</dt>  <dt>
<strong>type</strong> <code class="type"><a href="../ds.model/">DS.Model</a></code>
</dt>  <dt>
<strong>query</strong> <code class="type">Object</code>
</dt>  </dl> </div> <div class="return"> <h3>Returns:</h3> <dl> <dt>
<code class="type">Promise</code> </dt>
<dd> promise</dd> </dl> </div>   <h2 id="method_queryRecord">queryRecord<span class="args"> (store, type, query) </span><code class="type">Promise</code>
</h2>   <p class="meta"> Inherited from <a href="../ds.adapter/#method_queryRecord">DS.Adapter</a> but overwritten in <a class="api-file-link" href="https://github.com/emberjs/data/tree/v2.12.0/addon/adapters/rest.js#L556" target="_blank">addon/adapters/rest.js:556</a> <br>Available since 1.13.0 </p> <div class="description"> <p>Called by the store in order to fetch a JSON object for the record that matches a particular query.</p> <p>The <code>queryRecord</code> method makes an Ajax (HTTP GET) request to a URL computed by <code>buildURL</code>, and returns a promise for the resulting payload.</p> <p>The <code>query</code> argument is a simple JavaScript object that will be passed directly to the server as parameters.</p> </div>  <div class="params"> <h3>Parameters:</h3> <dl> <dt>
<strong>store</strong> <code class="type"><a href="../ds.store/">DS.Store</a></code>
</dt>  <dt>
<strong>type</strong> <code class="type"><a href="../ds.model/">DS.Model</a></code>
</dt>  <dt>
<strong>query</strong> <code class="type">Object</code>
</dt>  </dl> </div> <div class="return"> <h3>Returns:</h3> <dl> <dt>
<code class="type">Promise</code> </dt>
<dd> promise</dd> </dl> </div>        <h2 id="method_sortQueryParams">sortQueryParams<span class="args"> (obj) </span><code class="type">Object</code>
</h2>   <p class="meta"> Defined in <a class="api-file-link" href="https://github.com/emberjs/data/tree/v2.12.0/addon/adapters/rest.js#L289" target="_blank">addon/adapters/rest.js:289</a> </p> <div class="description"> <p>By default, the RESTAdapter will send the query params sorted alphabetically to the server.</p> <p>For example:</p> <pre class="highlight js " data-language="js">  store.query('posts', { sort: 'price', category: 'pets' });
</pre> <p>will generate a requests like this <code>/posts?category=pets&amp;sort=price</code>, even if the parameters were specified in a different order.</p> <p>That way the generated URL will be deterministic and that simplifies caching mechanisms in the backend.</p> <p>Setting <code>sortQueryParams</code> to a falsey value will respect the original order.</p> <p>In case you want to sort the query parameters with a different criteria, set <code>sortQueryParams</code> to your custom sort function.</p> <div class="pre-title"><code>app/adapters/application.js</code></div>
<pre class="highlight javascript " data-language="javascript">import DS from 'ember-data';

export default DS.RESTAdapter.extend({
  sortQueryParams: function(params) {
    var sortedKeys = Object.keys(params).sort().reverse();
    var len = sortedKeys.length, newParams = {};

    for (var i = 0; i &lt; len; i++) {
      newParams[sortedKeys[i]] = params[sortedKeys[i]];
    }
    return newParams;
  }
});
</pre> </div>  <div class="params"> <h3>Parameters:</h3> <dl> <dt>
<strong>obj</strong> <code class="type">Object</code>
</dt>  </dl> </div> <div class="return"> <h3>Returns:</h3> <dl> <dt>
<code class="type">Object</code> </dt>
 </dl> </div>   <h2 id="method_updateRecord">updateRecord<span class="args"> (store, type, snapshot) </span><code class="type">Promise</code>
</h2>   <p class="meta"> Inherited from <a href="../ds.adapter/#method_updateRecord">DS.Adapter</a> but overwritten in <a class="api-file-link" href="https://github.com/emberjs/data/tree/v2.12.0/addon/adapters/rest.js#L781" target="_blank">addon/adapters/rest.js:781</a> </p> <div class="description"> <p>Called by the store when an existing record is saved via the <code>save</code> method on a model record instance.</p> <p>The <code>updateRecord</code> method serializes the record and makes an Ajax (HTTP PUT) request to a URL computed by <code>buildURL</code>.</p> <p>See <code>serialize</code> for information on how to customize the serialized form of a record.</p> </div>  <div class="params"> <h3>Parameters:</h3> <dl> <dt>
<strong>store</strong> <code class="type"><a href="../ds.store/">DS.Store</a></code>
</dt>  <dt>
<strong>type</strong> <code class="type"><a href="../ds.model/">DS.Model</a></code>
</dt>  <dt>
<strong>snapshot</strong> <code class="type"><a href="../ds.snapshot/">DS.Snapshot</a></code>
</dt>  </dl> </div> <div class="return"> <h3>Returns:</h3> <dl> <dt>
<code class="type">Promise</code> </dt>
<dd> promise</dd> </dl> </div>            <h2 id="method_urlForRequest">urlForRequest<span class="args"> (params) </span><code class="type">String</code><span class="flag public">public</span>
</h2>    <p class="meta"> Defined in <a class="api-file-link" href="https://github.com/emberjs/data/tree/v2.12.0/addon/adapters/rest.js#L1320" target="_blank">addon/adapters/rest.js:1320</a> </p> <div class="description"> <p>Get the URL for a request.</p> </div>  <div class="params"> <h3>Parameters:</h3> <dl> <dt>
<strong>params</strong> <code class="type">Object</code>
</dt>  </dl> </div> <div class="return"> <h3>Returns:</h3> <dl> <dt>
<code class="type">String</code> </dt>
<dd> URL</dd> </dl> </div>       <h2 id="property_coalesceFindRequests">coalesceFindRequests<code class="type">{boolean}</code>
</h2>  <p class="meta"> Inherited from <a href="../ds.adapter/#method_coalesceFindRequests">DS.Adapter</a> but overwritten in <a class="api-file-link" href="https://github.com/emberjs/data/tree/v2.12.0/addon/adapters/rest.js#L345" target="_blank">addon/adapters/rest.js:345</a> </p> <div class="description"> <p>By default the RESTAdapter will send each find request coming from a <code>store.find</code> or from accessing a relationship separately to the server. If your server supports passing ids as a query string, you can set coalesceFindRequests to true to coalesce all find requests within a single runloop.</p> <p>For example, if you have an initial payload of:</p> <pre class="highlight javascript " data-language="javascript">{
  post: {
    id: 1,
    comments: [1, 2]
  }
}
</pre> <p>By default calling <code>post.get('comments')</code> will trigger the following requests(assuming the comments haven't been loaded before):</p> <pre class="highlight text " data-language="">GET /comments/1
GET /comments/2
</pre> <p>If you set coalesceFindRequests to <code>true</code> it will instead trigger the following request:</p> <pre class="highlight text " data-language="">GET /comments?ids[]=1&amp;ids[]=2
</pre> <p>Setting coalesceFindRequests to <code>true</code> also works for <code>store.find</code> requests and <code>belongsTo</code> relationships accessed within the same runloop. If you set <code>coalesceFindRequests: true</code></p> <pre class="highlight javascript " data-language="javascript">store.findRecord('comment', 1);
store.findRecord('comment', 2);
</pre> <p>will also send a request to: <code>GET /comments?ids[]=1&amp;ids[]=2</code></p> <p>Note: Requests coalescing rely on URL building strategy. So if you override <code>buildURL</code> in your app <code>groupRecordsForFindMany</code> more likely should be overridden as well in order for coalescing to work.</p> </div>     <h2 id="property_headers">headers<code class="type">{Object}</code>
</h2>  <p class="meta"> Defined in <a class="api-file-link" href="https://github.com/emberjs/data/tree/v2.12.0/addon/adapters/rest.js#L429" target="_blank">addon/adapters/rest.js:429</a> </p> <div class="description"> <p>Some APIs require HTTP headers, e.g. to provide an API key. Arbitrary headers can be set as key/value pairs on the <code>RESTAdapter</code>'s <code>headers</code> object and Ember Data will send them along with each ajax request. For dynamic headers see <a href="../ds.restadapter/#toc_headers-customization">headers customization</a>.</p> <div class="pre-title"><code>app/adapters/application.js</code></div>
<pre class="highlight javascript " data-language="javascript">import DS from 'ember-data';

export default DS.RESTAdapter.extend({
  headers: {
    "API_KEY": "secret key",
    "ANOTHER_HEADER": "Some header value"
  }
});
</pre> </div>    <h2 id="property_host">host<code class="type">{String}</code>
</h2>  <p class="meta"> Defined in <a class="api-file-link" href="https://github.com/emberjs/data/tree/v2.12.0/addon/adapters/rest.js#L412" target="_blank">addon/adapters/rest.js:412</a> </p> <div class="description"> <p>An adapter can target other hosts by setting the <code>host</code> property.</p> <div class="pre-title"><code>app/adapters/application.js</code></div>
<pre class="highlight javascript " data-language="javascript">import DS from 'ember-data';

export default DS.RESTAdapter.extend({
  host: 'https://api.example.com'
});
</pre> <p>Requests for the <code>Post</code> model would now target <code>https://api.example.com/post/</code>.</p> </div>    <h2 id="property_namespace">namespace<code class="type">{String}</code>
</h2>  <p class="meta"> Defined in <a class="api-file-link" href="https://github.com/emberjs/data/tree/v2.12.0/addon/adapters/rest.js#L394" target="_blank">addon/adapters/rest.js:394</a> </p> <div class="description"> <p>Endpoint paths can be prefixed with a <code>namespace</code> by setting the namespace property on the adapter:</p> <div class="pre-title"><code>app/adapters/application.js</code></div>
<pre class="highlight javascript " data-language="javascript">import DS from 'ember-data';

export default DS.RESTAdapter.extend({
  namespace: 'api/1'
});
</pre> <p>Requests for the <code>Post</code> model would now target <code>/api/1/post/</code>.</p> </div> <div class="_attribution">
  <p class="_attribution-p">
    Â© 2017 Yehuda Katz, Tom Dale and Ember.js contributors<br>Licensed under the MIT License.<br>
    <a href="http://emberjs.com/api/data/classes/DS.RESTAdapter.html" class="_attribution-link" target="_blank">http://emberjs.com/api/data/classes/DS.RESTAdapter.html</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
